import{y as oe,z as Vn,C as Ta}from"./index-be9e3908.js";import{e as us,r as ls}from"./___vite-browser-external_commonjs-proxy-42c41456.js";function Ba(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(n,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var Gn={},mt={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.walletLogo=void 0;const Na=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Jt.walletLogo=Na;var Qt={},hs={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,_,v){this.fn=h,this.context=_,this.once=v||!1}function c(h,_,v,g,b){if(typeof v!="function")throw new TypeError("The listener must be a function");var w=new i(v,g||h,b),C=r?r+_:_;return h._events[C]?h._events[C].fn?h._events[C]=[h._events[C],w]:h._events[C].push(w):(h._events[C]=w,h._eventsCount++),h}function u(h,_){--h._eventsCount===0?h._events=new n:delete h._events[_]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var _=[],v,g;if(this._eventsCount===0)return _;for(g in v=this._events)t.call(v,g)&&_.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?_.concat(Object.getOwnPropertySymbols(v)):_},o.prototype.listeners=function(_){var v=r?r+_:_,g=this._events[v];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,w=g.length,C=new Array(w);b<w;b++)C[b]=g[b].fn;return C},o.prototype.listenerCount=function(_){var v=r?r+_:_,g=this._events[v];return g?g.fn?1:g.length:0},o.prototype.emit=function(_,v,g,b,w,C){var L=r?r+_:_;if(!this._events[L])return!1;var k=this._events[L],y=arguments.length,x,I;if(k.fn){switch(k.once&&this.removeListener(_,k.fn,void 0,!0),y){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,v),!0;case 3:return k.fn.call(k.context,v,g),!0;case 4:return k.fn.call(k.context,v,g,b),!0;case 5:return k.fn.call(k.context,v,g,b,w),!0;case 6:return k.fn.call(k.context,v,g,b,w,C),!0}for(I=1,x=new Array(y-1);I<y;I++)x[I-1]=arguments[I];k.fn.apply(k.context,x)}else{var M=k.length,N;for(I=0;I<M;I++)switch(k[I].once&&this.removeListener(_,k[I].fn,void 0,!0),y){case 1:k[I].fn.call(k[I].context);break;case 2:k[I].fn.call(k[I].context,v);break;case 3:k[I].fn.call(k[I].context,v,g);break;case 4:k[I].fn.call(k[I].context,v,g,b);break;default:if(!x)for(N=1,x=new Array(y-1);N<y;N++)x[N-1]=arguments[N];k[I].fn.apply(k[I].context,x)}}return!0},o.prototype.on=function(_,v,g){return c(this,_,v,g,!1)},o.prototype.once=function(_,v,g){return c(this,_,v,g,!0)},o.prototype.removeListener=function(_,v,g,b){var w=r?r+_:_;if(!this._events[w])return this;if(!v)return u(this,w),this;var C=this._events[w];if(C.fn)C.fn===v&&(!b||C.once)&&(!g||C.context===g)&&u(this,w);else{for(var L=0,k=[],y=C.length;L<y;L++)(C[L].fn!==v||b&&!C[L].once||g&&C[L].context!==g)&&k.push(C[L]);k.length?this._events[w]=k.length===1?k[0]:k:u(this,w)}return this},o.prototype.removeAllListeners=function(_){var v;return _?(v=r?r+_:_,this._events[v]&&u(this,v)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(hs);var Pa=hs.exports,Ue={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.errorValues=$e.standardErrorCodes=void 0;$e.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};$e.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var Xt={},Zn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=$e,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(b,w=r){if(b&&Number.isInteger(b)){const C=b.toString();if(v(t.errorValues,C))return t.errorValues[C].message;if(h(b))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return w}e.getMessageFromCode=n;function i(b){if(!Number.isInteger(b))return!1;const w=b.toString();return!!(t.errorValues[w]||h(b))}e.isValidCode=i;function c(b){var w;if(typeof b=="number")return b;if(u(b))return(w=b.code)!==null&&w!==void 0?w:b.errorCode}e.getErrorCode=c;function u(b){return typeof b=="object"&&b!==null&&(typeof b.code=="number"||typeof b.errorCode=="number")}function o(b,{shouldIncludeStack:w=!1}={}){const C={};if(b&&typeof b=="object"&&!Array.isArray(b)&&v(b,"code")&&i(b.code)){const L=b;C.code=L.code,L.message&&typeof L.message=="string"?(C.message=L.message,v(L,"data")&&(C.data=L.data)):(C.message=n(C.code),C.data={originalError:_(b)})}else C.code=t.standardErrorCodes.rpc.internal,C.message=g(b,"message")?b.message:r,C.data={originalError:_(b)};return w&&(C.stack=g(b,"stack")?b.stack:void 0),C}e.serialize=o;function h(b){return b>=-32099&&b<=-32e3}function _(b){return b&&typeof b=="object"&&!Array.isArray(b)?Object.assign({},b):b}function v(b,w){return Object.prototype.hasOwnProperty.call(b,w)}function g(b,w){return typeof b=="object"&&b!==null&&w in b&&typeof b[w]=="string"}})(Zn);Object.defineProperty(Xt,"__esModule",{value:!0});Xt.standardErrors=void 0;const le=$e,ds=Zn;Xt.standardErrors={rpc:{parse:e=>we(le.standardErrorCodes.rpc.parse,e),invalidRequest:e=>we(le.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>we(le.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>we(le.standardErrorCodes.rpc.methodNotFound,e),internal:e=>we(le.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return we(t,e)},invalidInput:e=>we(le.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>we(le.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>we(le.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>we(le.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>we(le.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>we(le.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>nt(le.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>nt(le.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>nt(le.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>nt(le.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>nt(le.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>nt(le.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new _s(t,r,n)}}};function we(e,t){const[r,n]=fs(t);return new ps(e,r||(0,ds.getMessageFromCode)(e),n)}function nt(e,t){const[r,n]=fs(t);return new _s(e,r||(0,ds.getMessageFromCode)(e),n)}function fs(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}class ps extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}}class _s extends ps{constructor(t,r,n){if(!Da(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}function Da(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=void 0;var t=$e;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});var r=Xt;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}})})(Ue);var er={},pt={};Object.defineProperty(pt,"__esModule",{value:!0});pt.isErrorResponse=void 0;function Oa(e){return e.errorMessage!==void 0}pt.isErrorResponse=Oa;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.LIB_VERSION=void 0;Ye.LIB_VERSION="4.0.3";Object.defineProperty(er,"__esModule",{value:!0});er.serializeError=void 0;const Ua=pt,Fa=Ye,ja=$e,Wa=Zn;function Ha(e,t){const r=(0,Wa.serialize)($a(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",Fa.LIB_VERSION),n.searchParams.set("code",r.code.toString());const i=qa(r.data,t);return i&&n.searchParams.set("method",i),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}er.serializeError=Ha;function $a(e){return typeof e=="string"?{message:e,code:ja.standardErrorCodes.rpc.internal}:(0,Ua.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function qa(e,t){const r=e==null?void 0:e.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}var de={};Object.defineProperty(de,"__esModule",{value:!0});de.RegExpString=de.IntNumber=de.BigIntString=de.AddressString=de.HexString=de.OpaqueType=void 0;function xt(){return e=>e}de.OpaqueType=xt;de.HexString=xt();de.AddressString=xt();de.BigIntString=xt();function Ka(e){return Math.floor(e)}de.IntNumber=Ka;de.RegExpString=xt();var O={};Object.defineProperty(O,"__esModule",{value:!0});O.areAddressArraysEqual=O.getFavicon=O.range=O.isBigNumber=O.ensureParsedJSONObject=O.ensureBigInt=O.ensureRegExpString=O.ensureIntNumber=O.ensureBuffer=O.ensureAddressString=O.ensureEvenLengthHexString=O.ensureHexString=O.isHexString=O.prepend0x=O.strip0x=O.has0xPrefix=O.hexStringFromIntNumber=O.intNumberFromHexString=O.bigIntStringFromBigInt=O.hexStringFromBuffer=O.hexStringToUint8Array=O.uint8ArrayToHex=O.randomBytesHex=void 0;const Je=Ue,Se=de,gs=/^[0-9]*$/,ys=/^[a-f0-9]*$/;function za(e){return bs(crypto.getRandomValues(new Uint8Array(e)))}O.randomBytesHex=za;function bs(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}O.uint8ArrayToHex=bs;function Va(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}O.hexStringToUint8Array=Va;function Ga(e,t=!1){const r=e.toString("hex");return(0,Se.HexString)(t?`0x${r}`:r)}O.hexStringFromBuffer=Ga;function Za(e){return(0,Se.BigIntString)(e.toString(10))}O.bigIntStringFromBigInt=Za;function Ya(e){return(0,Se.IntNumber)(Number(BigInt(kt(e,!0))))}O.intNumberFromHexString=Ya;function Ja(e){return(0,Se.HexString)(`0x${BigInt(e).toString(16)}`)}O.hexStringFromIntNumber=Ja;function Yn(e){return e.startsWith("0x")||e.startsWith("0X")}O.has0xPrefix=Yn;function tr(e){return Yn(e)?e.slice(2):e}O.strip0x=tr;function vs(e){return Yn(e)?`0x${e.slice(2)}`:`0x${e}`}O.prepend0x=vs;function Ct(e){if(typeof e!="string")return!1;const t=tr(e).toLowerCase();return ys.test(t)}O.isHexString=Ct;function ws(e,t=!1){if(typeof e=="string"){const r=tr(e).toLowerCase();if(ys.test(r))return(0,Se.HexString)(t?`0x${r}`:r)}throw Je.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}O.ensureHexString=ws;function kt(e,t=!1){let r=ws(e,!1);return r.length%2===1&&(r=(0,Se.HexString)(`0${r}`)),t?(0,Se.HexString)(`0x${r}`):r}O.ensureEvenLengthHexString=kt;function Qa(e){if(typeof e=="string"){const t=tr(e).toLowerCase();if(Ct(t)&&t.length===40)return(0,Se.AddressString)(vs(t))}throw Je.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}O.ensureAddressString=Qa;function Xa(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(Ct(e)){const t=kt(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw Je.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}O.ensureBuffer=Xa;function ms(e){if(typeof e=="number"&&Number.isInteger(e))return(0,Se.IntNumber)(e);if(typeof e=="string"){if(gs.test(e))return(0,Se.IntNumber)(Number(e));if(Ct(e))return(0,Se.IntNumber)(Number(BigInt(kt(e,!0))))}throw Je.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}O.ensureIntNumber=ms;function eo(e){if(e instanceof RegExp)return(0,Se.RegExpString)(e.toString());throw Je.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}O.ensureRegExpString=eo;function to(e){if(e!==null&&(typeof e=="bigint"||Es(e)))return BigInt(e.toString(10));if(typeof e=="number")return BigInt(ms(e));if(typeof e=="string"){if(gs.test(e))return BigInt(e);if(Ct(e))return BigInt(kt(e,!0))}throw Je.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}O.ensureBigInt=to;function ro(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw Je.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}O.ensureParsedJSONObject=ro;function Es(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}O.isBigNumber=Es;function no(e,t){return Array.from({length:t-e},(r,n)=>e+n)}O.range=no;function io(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}O.getFavicon=io;function so(e,t){return e.length===t.length&&e.every((r,n)=>r===t[n])}O.areAddressArraysEqual=so;var Pe={},rr={},nr={},ie={};Object.defineProperty(ie,"__esModule",{value:!0});ie.decryptContent=ie.encryptContent=ie.importKeyFromHexString=ie.exportKeyToHexString=ie.decrypt=ie.encrypt=ie.deriveSharedSecret=ie.generateKeyPair=void 0;const Ss=O;async function ao(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}ie.generateKeyPair=ao;async function oo(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}ie.deriveSharedSecret=oo;async function xs(e,t){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}ie.encrypt=xs;async function Cs(e,{iv:t,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}ie.decrypt=Cs;function ks(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function co(e,t){const r=ks(e),n=await crypto.subtle.exportKey(r,t);return(0,Ss.uint8ArrayToHex)(new Uint8Array(n))}ie.exportKeyToHexString=co;async function uo(e,t){const r=ks(e),n=(0,Ss.hexStringToUint8Array)(t).buffer;return await crypto.subtle.importKey(r,n,{name:"ECDH",namedCurve:"P-256"},!0,e==="private"?["deriveKey"]:[])}ie.importKeyFromHexString=uo;async function lo(e,t){const r=JSON.stringify(e,(n,i)=>{if(!(i instanceof Error))return i;const c=i;return Object.assign(Object.assign({},c.code?{code:c.code}:{}),{message:c.message})});return xs(t,r)}ie.encryptContent=lo;async function ho(e,t){return JSON.parse(await Cs(t,e))}ie.decryptContent=ho;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ScopedLocalStorage=void 0;class Gt{constructor(t,r){this.scope=t,this.module=r}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(t)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`-${this.scope}${this.module?`:${this.module}`:""}:${t}`}static clearAll(){new Gt("CBWSDK").clear(),new Gt("walletlink").clear()}}Fe.ScopedLocalStorage=Gt;Object.defineProperty(nr,"__esModule",{value:!0});nr.SCWKeyManager=void 0;const Dt=ie,fo=Fe,bn={storageKey:"ownPrivateKey",keyType:"private"},vn={storageKey:"ownPublicKey",keyType:"public"},wn={storageKey:"peerPublicKey",keyType:"public"};class po{constructor(){this.storage=new fo.ScopedLocalStorage("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(t){this.sharedSecret=null,this.peerPublicKey=t,await this.storeKey(wn,t),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(vn.storageKey),this.storage.removeItem(bn.storageKey),this.storage.removeItem(wn.storageKey)}async generateKeyPair(){const t=await(0,Dt.generateKeyPair)();this.ownPrivateKey=t.privateKey,this.ownPublicKey=t.publicKey,await this.storeKey(bn,t.privateKey),await this.storeKey(vn,t.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(bn)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(vn)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(wn)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await(0,Dt.deriveSharedSecret)(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(t){const r=this.storage.getItem(t.storageKey);return r?(0,Dt.importKeyFromHexString)(t.keyType,r):null}async storeKey(t,r){const n=await(0,Dt.exportKeyToHexString)(t.keyType,r);this.storage.setItem(t.storageKey,n)}}nr.SCWKeyManager=po;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.SCWStateManager=void 0;const _o=Fe,ui="accounts",li="activeChain",hi="availableChains",di="walletCapabilities";class go{get accounts(){return this._accounts}get activeChain(){return this._activeChain}get walletCapabilities(){return this._walletCapabilities}constructor(t){var r,n;this.storage=new _o.ScopedLocalStorage("CBWSDK","SCWStateManager"),this.updateListener=t.updateListener,this.availableChains=this.loadItemFromStorage(hi),this._walletCapabilities=this.loadItemFromStorage(di);const i=this.loadItemFromStorage(ui),c=this.loadItemFromStorage(li);i&&this.updateListener.onAccountsUpdate({accounts:i,source:"storage"}),c&&this.updateListener.onChainUpdate({chain:c,source:"storage"}),this._accounts=i||[],this._activeChain=c||{id:(n=(r=t.appChainIds)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:1}}updateAccounts(t){this._accounts=t,this.storeItemToStorage(ui,t),this.updateListener.onAccountsUpdate({accounts:t,source:"wallet"})}switchChain(t){var r;const n=(r=this.availableChains)===null||r===void 0?void 0:r.find(i=>i.id===t);return n?(n===this._activeChain||(this._activeChain=n,this.storeItemToStorage(li,n),this.updateListener.onChainUpdate({chain:n,source:"wallet"})),!0):!1}updateAvailableChains(t){if(!t||Object.keys(t).length===0)return;const r=Object.entries(t).map(([n,i])=>({id:Number(n),rpcUrl:i}));this.availableChains=r,this.storeItemToStorage(hi,r),this.switchChain(this._activeChain.id)}updateWalletCapabilities(t){this._walletCapabilities=t,this.storeItemToStorage(di,t)}storeItemToStorage(t,r){this.storage.setItem(t,JSON.stringify(r))}loadItemFromStorage(t){const r=this.storage.getItem(t);return r?JSON.parse(r):void 0}clear(){this.storage.clear()}}ir.SCWStateManager=go;Object.defineProperty(rr,"__esModule",{value:!0});rr.SCWSigner=void 0;const yo=nr,bo=ir,Ot=Ue,fi=O,Ut=ie;class vo{constructor(t){this.metadata=t.metadata,this.communicator=t.communicator,this.keyManager=new yo.SCWKeyManager,this.stateManager=new bo.SCWStateManager({appChainIds:this.metadata.appChainIds,updateListener:t.updateListener}),this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(){const t=await this.createRequestMessage({handshake:{method:"eth_requestAccounts",params:this.metadata}}),r=await this.communicator.postRequestAndWaitForResponse(t);if("failure"in r.content)throw r.content.failure;const n=await(0,Ut.importKeyFromHexString)("public",r.sender);await this.keyManager.setPeerPublicKey(n);const i=await this.decryptResponseMessage(r);this.updateInternalState({method:"eth_requestAccounts"},i);const c=i.result;if("error"in c)throw c.error;return this.stateManager.accounts}async request(t){const r=this.tryLocalHandling(t);if(r!==void 0){if(r instanceof Error)throw r;return r}await this.communicator.waitForPopupLoaded();const n=await this.sendEncryptedRequest(t),i=await this.decryptResponseMessage(n);this.updateInternalState(t,i);const c=i.result;if("error"in c)throw c.error;return c.value}async disconnect(){this.stateManager.clear(),await this.keyManager.clear()}tryLocalHandling(t){var r;switch(t.method){case"wallet_switchEthereumChain":{const n=t.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw Ot.standardErrors.rpc.invalidParams();const i=(0,fi.ensureIntNumber)(n[0].chainId);return this.stateManager.switchChain(i)?null:void 0}case"wallet_getCapabilities":{const n=this.stateManager.walletCapabilities;if(!n)throw Ot.standardErrors.provider.unauthorized("No wallet capabilities found, please disconnect and reconnect");return n}default:return}}async sendEncryptedRequest(t){const r=await this.keyManager.getSharedSecret();if(!r)throw Ot.standardErrors.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await(0,Ut.encryptContent)({action:t,chainId:this.stateManager.activeChain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(t){const r=await(0,Ut.exportKeyToHexString)("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:t,timestamp:new Date}}async decryptResponseMessage(t){const r=t.content;if("failure"in r)throw r.failure;const n=await this.keyManager.getSharedSecret();if(!n)throw Ot.standardErrors.provider.unauthorized("Invalid session");return(0,Ut.decryptContent)(r.encrypted,n)}updateInternalState(t,r){var n,i;const c=(n=r.data)===null||n===void 0?void 0:n.chains;c&&this.stateManager.updateAvailableChains(c);const u=(i=r.data)===null||i===void 0?void 0:i.capabilities;u&&this.stateManager.updateWalletCapabilities(u);const o=r.result;if(!("error"in o))switch(t.method){case"eth_requestAccounts":{const h=o.value;this.stateManager.updateAccounts(h);break}case"wallet_switchEthereumChain":{if(o.value!==null)return;const h=t.params,_=(0,fi.ensureIntNumber)(h[0].chainId);this.stateManager.switchChain(_);break}}}}rr.SCWSigner=vo;var sr={},Dn={exports:{}},Is=us.EventEmitter,It={},ar={};ar.byteLength=Eo;ar.toByteArray=xo;ar.fromByteArray=Io;var Ne=[],me=[],wo=typeof Uint8Array<"u"?Uint8Array:Array,mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var it=0,mo=mn.length;it<mo;++it)Ne[it]=mn[it],me[mn.charCodeAt(it)]=it;me["-".charCodeAt(0)]=62;me["_".charCodeAt(0)]=63;function Rs(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Eo(e){var t=Rs(e),r=t[0],n=t[1];return(r+n)*3/4-n}function So(e,t,r){return(t+r)*3/4-r}function xo(e){var t,r=Rs(e),n=r[0],i=r[1],c=new wo(So(e,n,i)),u=0,o=i>0?n-4:n,h;for(h=0;h<o;h+=4)t=me[e.charCodeAt(h)]<<18|me[e.charCodeAt(h+1)]<<12|me[e.charCodeAt(h+2)]<<6|me[e.charCodeAt(h+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=t&255;return i===2&&(t=me[e.charCodeAt(h)]<<2|me[e.charCodeAt(h+1)]>>4,c[u++]=t&255),i===1&&(t=me[e.charCodeAt(h)]<<10|me[e.charCodeAt(h+1)]<<4|me[e.charCodeAt(h+2)]>>2,c[u++]=t>>8&255,c[u++]=t&255),c}function Co(e){return Ne[e>>18&63]+Ne[e>>12&63]+Ne[e>>6&63]+Ne[e&63]}function ko(e,t,r){for(var n,i=[],c=t;c<r;c+=3)n=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(e[c+2]&255),i.push(Co(n));return i.join("")}function Io(e){for(var t,r=e.length,n=r%3,i=[],c=16383,u=0,o=r-n;u<o;u+=c)i.push(ko(e,u,u+c>o?o:u+c));return n===1?(t=e[r-1],i.push(Ne[t>>2]+Ne[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Ne[t>>10]+Ne[t>>4&63]+Ne[t<<2&63]+"=")),i.join("")}var Jn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Jn.read=function(e,t,r,n,i){var c,u,o=i*8-n-1,h=(1<<o)-1,_=h>>1,v=-7,g=r?i-1:0,b=r?-1:1,w=e[t+g];for(g+=b,c=w&(1<<-v)-1,w>>=-v,v+=o;v>0;c=c*256+e[t+g],g+=b,v-=8);for(u=c&(1<<-v)-1,c>>=-v,v+=n;v>0;u=u*256+e[t+g],g+=b,v-=8);if(c===0)c=1-_;else{if(c===h)return u?NaN:(w?-1:1)*(1/0);u=u+Math.pow(2,n),c=c-_}return(w?-1:1)*u*Math.pow(2,c-n)};Jn.write=function(e,t,r,n,i,c){var u,o,h,_=c*8-i-1,v=(1<<_)-1,g=v>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:c-1,C=n?1:-1,L=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,u=v):(u=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-u))<1&&(u--,h*=2),u+g>=1?t+=b/h:t+=b*Math.pow(2,1-g),t*h>=2&&(u++,h/=2),u+g>=v?(o=0,u=v):u+g>=1?(o=(t*h-1)*Math.pow(2,i),u=u+g):(o=t*Math.pow(2,g-1)*Math.pow(2,i),u=0));i>=8;e[r+w]=o&255,w+=C,o/=256,i-=8);for(u=u<<i|o,_+=i;_>0;e[r+w]=u&255,w+=C,u/=256,_-=8);e[r+w-C]|=L*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=ar,r=Jn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=c(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{var l=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(l,s),l.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function u(l){if(l>i)throw new RangeError('The value "'+l+'" is invalid for option "size"');var s=new Uint8Array(l);return Object.setPrototypeOf(s,o.prototype),s}function o(l,s,a){if(typeof l=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(l)}return h(l,s,a)}o.poolSize=8192;function h(l,s,a){if(typeof l=="string")return b(l,s);if(ArrayBuffer.isView(l))return C(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(R(l,ArrayBuffer)||l&&R(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(R(l,SharedArrayBuffer)||l&&R(l.buffer,SharedArrayBuffer)))return L(l,s,a);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var p=l.valueOf&&l.valueOf();if(p!=null&&p!==l)return o.from(p,s,a);var m=k(l);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return o.from(l[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}o.from=function(l,s,a){return h(l,s,a)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function _(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function v(l,s,a){return _(l),l<=0?u(l):s!==void 0?typeof a=="string"?u(l).fill(s,a):u(l).fill(s):u(l)}o.alloc=function(l,s,a){return v(l,s,a)};function g(l){return _(l),u(l<0?0:y(l)|0)}o.allocUnsafe=function(l){return g(l)},o.allocUnsafeSlow=function(l){return g(l)};function b(l,s){if((typeof s!="string"||s==="")&&(s="utf8"),!o.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var a=I(l,s)|0,p=u(a),m=p.write(l,s);return m!==a&&(p=p.slice(0,m)),p}function w(l){for(var s=l.length<0?0:y(l.length)|0,a=u(s),p=0;p<s;p+=1)a[p]=l[p]&255;return a}function C(l){if(R(l,Uint8Array)){var s=new Uint8Array(l);return L(s.buffer,s.byteOffset,s.byteLength)}return w(l)}function L(l,s,a){if(s<0||l.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');var p;return s===void 0&&a===void 0?p=new Uint8Array(l):a===void 0?p=new Uint8Array(l,s):p=new Uint8Array(l,s,a),Object.setPrototypeOf(p,o.prototype),p}function k(l){if(o.isBuffer(l)){var s=y(l.length)|0,a=u(s);return a.length===0||l.copy(a,0,0,s),a}if(l.length!==void 0)return typeof l.length!="number"||P(l.length)?u(0):w(l);if(l.type==="Buffer"&&Array.isArray(l.data))return w(l.data)}function y(l){if(l>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return l|0}function x(l){return+l!=l&&(l=0),o.alloc(+l)}o.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==o.prototype},o.compare=function(s,a){if(R(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),R(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),!o.isBuffer(s)||!o.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;for(var p=s.length,m=a.length,A=0,B=Math.min(p,m);A<B;++A)if(s[A]!==a[A]){p=s[A],m=a[A];break}return p<m?-1:m<p?1:0},o.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return o.alloc(0);var p;if(a===void 0)for(a=0,p=0;p<s.length;++p)a+=s[p].length;var m=o.allocUnsafe(a),A=0;for(p=0;p<s.length;++p){var B=s[p];if(R(B,Uint8Array))A+B.length>m.length?o.from(B).copy(m,A):Uint8Array.prototype.set.call(m,B,A);else if(o.isBuffer(B))B.copy(m,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=B.length}return m};function I(l,s){if(o.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||R(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);var a=l.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&a===0)return 0;for(var m=!1;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return T(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return d(l).length;default:if(m)return p?-1:T(l).length;s=(""+s).toLowerCase(),m=!0}}o.byteLength=I;function M(l,s,a){var p=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(l||(l="utf8");;)switch(l){case"hex":return ge(this,s,a);case"utf8":case"utf-8":return ce(this,s,a);case"ascii":return _e(this,s,a);case"latin1":case"binary":return ke(this,s,a);case"base64":return ee(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ie(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),p=!0}}o.prototype._isBuffer=!0;function N(l,s,a){var p=l[s];l[s]=l[a],l[a]=p}o.prototype.swap16=function(){var s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a=0;a<s;a+=2)N(this,a,a+1);return this},o.prototype.swap32=function(){var s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a=0;a<s;a+=4)N(this,a,a+3),N(this,a+1,a+2);return this},o.prototype.swap64=function(){var s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a=0;a<s;a+=8)N(this,a,a+7),N(this,a+1,a+6),N(this,a+2,a+5),N(this,a+3,a+4);return this},o.prototype.toString=function(){var s=this.length;return s===0?"":arguments.length===0?ce(this,0,s):M.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(s){if(!o.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:o.compare(this,s)===0},o.prototype.inspect=function(){var s="",a=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(s,a,p,m,A){if(R(s,Uint8Array)&&(s=o.from(s,s.offset,s.byteLength)),!o.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),p===void 0&&(p=s?s.length:0),m===void 0&&(m=0),A===void 0&&(A=this.length),a<0||p>s.length||m<0||A>this.length)throw new RangeError("out of range index");if(m>=A&&a>=p)return 0;if(m>=A)return-1;if(a>=p)return 1;if(a>>>=0,p>>>=0,m>>>=0,A>>>=0,this===s)return 0;for(var B=A-m,H=p-a,$=Math.min(B,H),V=this.slice(m,A),J=s.slice(a,p),z=0;z<$;++z)if(V[z]!==J[z]){B=V[z],H=J[z];break}return B<H?-1:H<B?1:0};function F(l,s,a,p,m){if(l.length===0)return-1;if(typeof a=="string"?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,P(a)&&(a=m?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(m)return-1;a=l.length-1}else if(a<0)if(m)a=0;else return-1;if(typeof s=="string"&&(s=o.from(s,p)),o.isBuffer(s))return s.length===0?-1:K(l,s,a,p,m);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(l,s,a):Uint8Array.prototype.lastIndexOf.call(l,s,a):K(l,[s],a,p,m);throw new TypeError("val must be string, number or Buffer")}function K(l,s,a,p,m){var A=1,B=l.length,H=s.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(l.length<2||s.length<2)return-1;A=2,B/=2,H/=2,a/=2}function $(tt,rt){return A===1?tt[rt]:tt.readUInt16BE(rt*A)}var V;if(m){var J=-1;for(V=a;V<B;V++)if($(l,V)===$(s,J===-1?0:V-J)){if(J===-1&&(J=V),V-J+1===H)return J*A}else J!==-1&&(V-=V-J),J=-1}else for(a+H>B&&(a=B-H),V=a;V>=0;V--){for(var z=!0,fe=0;fe<H;fe++)if($(l,V+fe)!==$(s,fe)){z=!1;break}if(z)return V}return-1}o.prototype.includes=function(s,a,p){return this.indexOf(s,a,p)!==-1},o.prototype.indexOf=function(s,a,p){return F(this,s,a,p,!0)},o.prototype.lastIndexOf=function(s,a,p){return F(this,s,a,p,!1)};function j(l,s,a,p){a=Number(a)||0;var m=l.length-a;p?(p=Number(p),p>m&&(p=m)):p=m;var A=s.length;p>A/2&&(p=A/2);for(var B=0;B<p;++B){var H=parseInt(s.substr(B*2,2),16);if(P(H))return B;l[a+B]=H}return B}function D(l,s,a,p){return f(T(s,l.length-a),l,a,p)}function re(l,s,a,p){return f(U(s),l,a,p)}function be(l,s,a,p){return f(d(s),l,a,p)}function Ce(l,s,a,p){return f(W(s,l.length-a),l,a,p)}o.prototype.write=function(s,a,p,m){if(a===void 0)m="utf8",p=this.length,a=0;else if(p===void 0&&typeof a=="string")m=a,p=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(p)?(p=p>>>0,m===void 0&&(m="utf8")):(m=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var A=this.length-a;if((p===void 0||p>A)&&(p=A),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");for(var B=!1;;)switch(m){case"hex":return j(this,s,a,p);case"utf8":case"utf-8":return D(this,s,a,p);case"ascii":case"latin1":case"binary":return re(this,s,a,p);case"base64":return be(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ce(this,s,a,p);default:if(B)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),B=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ee(l,s,a){return s===0&&a===l.length?t.fromByteArray(l):t.fromByteArray(l.slice(s,a))}function ce(l,s,a){a=Math.min(l.length,a);for(var p=[],m=s;m<a;){var A=l[m],B=null,H=A>239?4:A>223?3:A>191?2:1;if(m+H<=a){var $,V,J,z;switch(H){case 1:A<128&&(B=A);break;case 2:$=l[m+1],($&192)===128&&(z=(A&31)<<6|$&63,z>127&&(B=z));break;case 3:$=l[m+1],V=l[m+2],($&192)===128&&(V&192)===128&&(z=(A&15)<<12|($&63)<<6|V&63,z>2047&&(z<55296||z>57343)&&(B=z));break;case 4:$=l[m+1],V=l[m+2],J=l[m+3],($&192)===128&&(V&192)===128&&(J&192)===128&&(z=(A&15)<<18|($&63)<<12|(V&63)<<6|J&63,z>65535&&z<1114112&&(B=z))}}B===null?(B=65533,H=1):B>65535&&(B-=65536,p.push(B>>>10&1023|55296),B=56320|B&1023),p.push(B),m+=H}return Le(p)}var ue=4096;function Le(l){var s=l.length;if(s<=ue)return String.fromCharCode.apply(String,l);for(var a="",p=0;p<s;)a+=String.fromCharCode.apply(String,l.slice(p,p+=ue));return a}function _e(l,s,a){var p="";a=Math.min(l.length,a);for(var m=s;m<a;++m)p+=String.fromCharCode(l[m]&127);return p}function ke(l,s,a){var p="";a=Math.min(l.length,a);for(var m=s;m<a;++m)p+=String.fromCharCode(l[m]);return p}function ge(l,s,a){var p=l.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);for(var m="",A=s;A<a;++A)m+=Z[l[A]];return m}function Ie(l,s,a){for(var p=l.slice(s,a),m="",A=0;A<p.length-1;A+=2)m+=String.fromCharCode(p[A]+p[A+1]*256);return m}o.prototype.slice=function(s,a){var p=this.length;s=~~s,a=a===void 0?p:~~a,s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),a<0?(a+=p,a<0&&(a=0)):a>p&&(a=p),a<s&&(a=s);var m=this.subarray(s,a);return Object.setPrototypeOf(m,o.prototype),m};function G(l,s,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+s>a)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||G(s,a,this.length);for(var m=this[s],A=1,B=0;++B<a&&(A*=256);)m+=this[s+B]*A;return m},o.prototype.readUintBE=o.prototype.readUIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||G(s,a,this.length);for(var m=this[s+--a],A=1;a>0&&(A*=256);)m+=this[s+--a]*A;return m},o.prototype.readUint8=o.prototype.readUInt8=function(s,a){return s=s>>>0,a||G(s,1,this.length),this[s]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||G(s,2,this.length),this[s]|this[s+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||G(s,2,this.length),this[s]<<8|this[s+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||G(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||G(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},o.prototype.readIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||G(s,a,this.length);for(var m=this[s],A=1,B=0;++B<a&&(A*=256);)m+=this[s+B]*A;return A*=128,m>=A&&(m-=Math.pow(2,8*a)),m},o.prototype.readIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||G(s,a,this.length);for(var m=a,A=1,B=this[s+--m];m>0&&(A*=256);)B+=this[s+--m]*A;return A*=128,B>=A&&(B-=Math.pow(2,8*a)),B},o.prototype.readInt8=function(s,a){return s=s>>>0,a||G(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},o.prototype.readInt16LE=function(s,a){s=s>>>0,a||G(s,2,this.length);var p=this[s]|this[s+1]<<8;return p&32768?p|4294901760:p},o.prototype.readInt16BE=function(s,a){s=s>>>0,a||G(s,2,this.length);var p=this[s+1]|this[s]<<8;return p&32768?p|4294901760:p},o.prototype.readInt32LE=function(s,a){return s=s>>>0,a||G(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},o.prototype.readInt32BE=function(s,a){return s=s>>>0,a||G(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},o.prototype.readFloatLE=function(s,a){return s=s>>>0,a||G(s,4,this.length),r.read(this,s,!0,23,4)},o.prototype.readFloatBE=function(s,a){return s=s>>>0,a||G(s,4,this.length),r.read(this,s,!1,23,4)},o.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||G(s,8,this.length),r.read(this,s,!0,52,8)},o.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||G(s,8,this.length),r.read(this,s,!1,52,8)};function Q(l,s,a,p,m,A){if(!o.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>m||s<A)throw new RangeError('"value" argument is out of bounds');if(a+p>l.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(s,a,p,m){if(s=+s,a=a>>>0,p=p>>>0,!m){var A=Math.pow(2,8*p)-1;Q(this,s,a,p,A,0)}var B=1,H=0;for(this[a]=s&255;++H<p&&(B*=256);)this[a+H]=s/B&255;return a+p},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(s,a,p,m){if(s=+s,a=a>>>0,p=p>>>0,!m){var A=Math.pow(2,8*p)-1;Q(this,s,a,p,A,0)}var B=p-1,H=1;for(this[a+B]=s&255;--B>=0&&(H*=256);)this[a+B]=s/H&255;return a+p},o.prototype.writeUint8=o.prototype.writeUInt8=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,1,255,0),this[a]=s&255,a+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},o.prototype.writeIntLE=function(s,a,p,m){if(s=+s,a=a>>>0,!m){var A=Math.pow(2,8*p-1);Q(this,s,a,p,A-1,-A)}var B=0,H=1,$=0;for(this[a]=s&255;++B<p&&(H*=256);)s<0&&$===0&&this[a+B-1]!==0&&($=1),this[a+B]=(s/H>>0)-$&255;return a+p},o.prototype.writeIntBE=function(s,a,p,m){if(s=+s,a=a>>>0,!m){var A=Math.pow(2,8*p-1);Q(this,s,a,p,A-1,-A)}var B=p-1,H=1,$=0;for(this[a+B]=s&255;--B>=0&&(H*=256);)s<0&&$===0&&this[a+B+1]!==0&&($=1),this[a+B]=(s/H>>0)-$&255;return a+p},o.prototype.writeInt8=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},o.prototype.writeInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},o.prototype.writeInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},o.prototype.writeInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},o.prototype.writeInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||Q(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function he(l,s,a,p,m,A){if(a+p>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Re(l,s,a,p,m){return s=+s,a=a>>>0,m||he(l,s,a,4),r.write(l,s,a,p,23,4),a+4}o.prototype.writeFloatLE=function(s,a,p){return Re(this,s,a,!0,p)},o.prototype.writeFloatBE=function(s,a,p){return Re(this,s,a,!1,p)};function ve(l,s,a,p,m){return s=+s,a=a>>>0,m||he(l,s,a,8),r.write(l,s,a,p,52,8),a+8}o.prototype.writeDoubleLE=function(s,a,p){return ve(this,s,a,!0,p)},o.prototype.writeDoubleBE=function(s,a,p){return ve(this,s,a,!1,p)},o.prototype.copy=function(s,a,p,m){if(!o.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),!m&&m!==0&&(m=this.length),a>=s.length&&(a=s.length),a||(a=0),m>0&&m<p&&(m=p),m===p||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),s.length-a<m-p&&(m=s.length-a+p);var A=m-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,p,m):Uint8Array.prototype.set.call(s,this.subarray(p,m),a),A},o.prototype.fill=function(s,a,p,m){if(typeof s=="string"){if(typeof a=="string"?(m=a,a=0,p=this.length):typeof p=="string"&&(m=p,p=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!o.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(s.length===1){var A=s.charCodeAt(0);(m==="utf8"&&A<128||m==="latin1")&&(s=A)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;a=a>>>0,p=p===void 0?this.length:p>>>0,s||(s=0);var B;if(typeof s=="number")for(B=a;B<p;++B)this[B]=s;else{var H=o.isBuffer(s)?s:o.from(s,m),$=H.length;if($===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(B=0;B<p-a;++B)this[B+a]=H[B%$]}return this};var S=/[^+/0-9A-Za-z-_]/g;function E(l){if(l=l.split("=")[0],l=l.trim().replace(S,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function T(l,s){s=s||1/0;for(var a,p=l.length,m=null,A=[],B=0;B<p;++B){if(a=l.charCodeAt(B),a>55295&&a<57344){if(!m){if(a>56319){(s-=3)>-1&&A.push(239,191,189);continue}else if(B+1===p){(s-=3)>-1&&A.push(239,191,189);continue}m=a;continue}if(a<56320){(s-=3)>-1&&A.push(239,191,189),m=a;continue}a=(m-55296<<10|a-56320)+65536}else m&&(s-=3)>-1&&A.push(239,191,189);if(m=null,a<128){if((s-=1)<0)break;A.push(a)}else if(a<2048){if((s-=2)<0)break;A.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;A.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;A.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return A}function U(l){for(var s=[],a=0;a<l.length;++a)s.push(l.charCodeAt(a)&255);return s}function W(l,s){for(var a,p,m,A=[],B=0;B<l.length&&!((s-=2)<0);++B)a=l.charCodeAt(B),p=a>>8,m=a%256,A.push(m),A.push(p);return A}function d(l){return t.toByteArray(E(l))}function f(l,s,a,p){for(var m=0;m<p&&!(m+a>=s.length||m>=l.length);++m)s[m+a]=l[m];return m}function R(l,s){return l instanceof s||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===s.name}function P(l){return l!==l}var Z=function(){for(var l="0123456789abcdef",s=new Array(256),a=0;a<16;++a)for(var p=a*16,m=0;m<16;++m)s[p+m]=l[a]+l[m];return s}()})(It);var En,pi;function Ro(){if(pi)return En;pi=1;function e(C,L){var k=Object.keys(C);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(C);L&&(y=y.filter(function(x){return Object.getOwnPropertyDescriptor(C,x).enumerable})),k.push.apply(k,y)}return k}function t(C){for(var L=1;L<arguments.length;L++){var k=arguments[L]!=null?arguments[L]:{};L%2?e(Object(k),!0).forEach(function(y){r(C,y,k[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(k)):e(Object(k)).forEach(function(y){Object.defineProperty(C,y,Object.getOwnPropertyDescriptor(k,y))})}return C}function r(C,L,k){return L=u(L),L in C?Object.defineProperty(C,L,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[L]=k,C}function n(C,L){if(!(C instanceof L))throw new TypeError("Cannot call a class as a function")}function i(C,L){for(var k=0;k<L.length;k++){var y=L[k];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,u(y.key),y)}}function c(C,L,k){return L&&i(C.prototype,L),k&&i(C,k),Object.defineProperty(C,"prototype",{writable:!1}),C}function u(C){var L=o(C,"string");return typeof L=="symbol"?L:String(L)}function o(C,L){if(typeof C!="object"||C===null)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var y=k.call(C,L||"default");if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(C)}var h=It,_=h.Buffer,v=ls,g=v.inspect,b=g&&g.custom||"inspect";function w(C,L,k){_.prototype.copy.call(C,L,k)}return En=function(){function C(){n(this,C),this.head=null,this.tail=null,this.length=0}return c(C,[{key:"push",value:function(k){var y={data:k,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(k){var y={data:k,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var k=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,k}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(k){if(this.length===0)return"";for(var y=this.head,x=""+y.data;y=y.next;)x+=k+y.data;return x}},{key:"concat",value:function(k){if(this.length===0)return _.alloc(0);for(var y=_.allocUnsafe(k>>>0),x=this.head,I=0;x;)w(x.data,y,I),I+=x.data.length,x=x.next;return y}},{key:"consume",value:function(k,y){var x;return k<this.head.data.length?(x=this.head.data.slice(0,k),this.head.data=this.head.data.slice(k)):k===this.head.data.length?x=this.shift():x=y?this._getString(k):this._getBuffer(k),x}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(k){var y=this.head,x=1,I=y.data;for(k-=I.length;y=y.next;){var M=y.data,N=k>M.length?M.length:k;if(N===M.length?I+=M:I+=M.slice(0,k),k-=N,k===0){N===M.length?(++x,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=M.slice(N));break}++x}return this.length-=x,I}},{key:"_getBuffer",value:function(k){var y=_.allocUnsafe(k),x=this.head,I=1;for(x.data.copy(y),k-=x.data.length;x=x.next;){var M=x.data,N=k>M.length?M.length:k;if(M.copy(y,y.length-k,0,N),k-=N,k===0){N===M.length?(++I,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=M.slice(N));break}++I}return this.length-=I,y}},{key:b,value:function(k,y){return g(this,t(t({},y),{},{depth:0,customInspect:!1}))}}]),C}(),En}function Ao(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(On,this,e)):process.nextTick(On,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(c){!t&&c?r._writableState?r._writableState.errorEmitted?process.nextTick(qt,r):(r._writableState.errorEmitted=!0,process.nextTick(_i,r,c)):process.nextTick(_i,r,c):t?(process.nextTick(qt,r),t(c)):process.nextTick(qt,r)}),this)}function _i(e,t){On(e,t),qt(e)}function qt(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function Mo(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function On(e,t){e.emit("error",t)}function Lo(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var As={destroy:Ao,undestroy:Mo,errorOrDestroy:Lo},Qe={};function To(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Ms={};function xe(e,t,r){r||(r=Error);function n(c,u,o){return typeof t=="string"?t:t(c,u,o)}var i=function(c){To(u,c);function u(o,h,_){return c.call(this,n(o,h,_))||this}return u}(r);i.prototype.name=r.name,i.prototype.code=e,Ms[e]=i}function gi(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Bo(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function No(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Po(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}xe("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);xe("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Bo(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(No(e," argument"))i="The ".concat(e," ").concat(n," ").concat(gi(t,"type"));else{var c=Po(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(c," ").concat(n," ").concat(gi(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);xe("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");xe("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});xe("ERR_STREAM_PREMATURE_CLOSE","Premature close");xe("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});xe("ERR_MULTIPLE_CALLBACK","Callback called multiple times");xe("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");xe("ERR_STREAM_WRITE_AFTER_END","write after end");xe("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);xe("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);xe("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Qe.codes=Ms;var Do=Qe.codes.ERR_INVALID_OPT_VALUE;function Oo(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function Uo(e,t,r,n){var i=Oo(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var c=n?r:"highWaterMark";throw new Do(c,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var Ls={getHighWaterMark:Uo},Un={exports:{}};typeof Object.create=="function"?Un.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Un.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var Me=Un.exports,Fo=jo;function jo(e,t){if(Sn("noDeprecation"))return e;var r=!1;function n(){if(!r){if(Sn("throwDeprecation"))throw new Error(t);Sn("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function Sn(e){try{if(!oe.localStorage)return!1}catch{return!1}var t=oe.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var xn,yi;function Ts(){if(yi)return xn;yi=1,xn=j;function e(S){var E=this;this.next=null,this.entry=null,this.finish=function(){ve(E,S)}}var t;j.WritableState=F;var r={deprecate:Fo},n=Is,i=It.Buffer,c=(typeof oe<"u"?oe:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function u(S){return i.from(S)}function o(S){return i.isBuffer(S)||S instanceof c}var h=As,_=Ls,v=_.getHighWaterMark,g=Qe.codes,b=g.ERR_INVALID_ARG_TYPE,w=g.ERR_METHOD_NOT_IMPLEMENTED,C=g.ERR_MULTIPLE_CALLBACK,L=g.ERR_STREAM_CANNOT_PIPE,k=g.ERR_STREAM_DESTROYED,y=g.ERR_STREAM_NULL_VALUES,x=g.ERR_STREAM_WRITE_AFTER_END,I=g.ERR_UNKNOWN_ENCODING,M=h.errorOrDestroy;Me(j,n);function N(){}function F(S,E,T){t=t||lt(),S=S||{},typeof T!="boolean"&&(T=E instanceof t),this.objectMode=!!S.objectMode,T&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=v(this,S,"writableHighWaterMark",T),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var U=S.decodeStrings===!1;this.decodeStrings=!U,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(W){Le(E,W)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}F.prototype.getBuffer=function(){for(var E=this.bufferedRequest,T=[];E;)T.push(E),E=E.next;return T},function(){try{Object.defineProperty(F.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var K;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(K=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(E){return K.call(this,E)?!0:this!==j?!1:E&&E._writableState instanceof F}})):K=function(E){return E instanceof this};function j(S){t=t||lt();var E=this instanceof t;if(!E&&!K.call(j,this))return new j(S);this._writableState=new F(S,this,E),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),n.call(this)}j.prototype.pipe=function(){M(this,new L)};function D(S,E){var T=new x;M(S,T),process.nextTick(E,T)}function re(S,E,T,U){var W;return T===null?W=new y:typeof T!="string"&&!E.objectMode&&(W=new b("chunk",["string","Buffer"],T)),W?(M(S,W),process.nextTick(U,W),!1):!0}j.prototype.write=function(S,E,T){var U=this._writableState,W=!1,d=!U.objectMode&&o(S);return d&&!i.isBuffer(S)&&(S=u(S)),typeof E=="function"&&(T=E,E=null),d?E="buffer":E||(E=U.defaultEncoding),typeof T!="function"&&(T=N),U.ending?D(this,T):(d||re(this,U,S,T))&&(U.pendingcb++,W=Ce(this,U,d,S,E,T)),W},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,!S.writing&&!S.corked&&!S.bufferProcessing&&S.bufferedRequest&&ge(this,S))},j.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new I(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function be(S,E,T){return!S.objectMode&&S.decodeStrings!==!1&&typeof E=="string"&&(E=i.from(E,T)),E}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ce(S,E,T,U,W,d){if(!T){var f=be(E,U,W);U!==f&&(T=!0,W="buffer",U=f)}var R=E.objectMode?1:U.length;E.length+=R;var P=E.length<E.highWaterMark;if(P||(E.needDrain=!0),E.writing||E.corked){var Z=E.lastBufferedRequest;E.lastBufferedRequest={chunk:U,encoding:W,isBuf:T,callback:d,next:null},Z?Z.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else ee(S,E,!1,R,U,W,d);return P}function ee(S,E,T,U,W,d,f){E.writelen=U,E.writecb=f,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new k("write")):T?S._writev(W,E.onwrite):S._write(W,d,E.onwrite),E.sync=!1}function ce(S,E,T,U,W){--E.pendingcb,T?(process.nextTick(W,U),process.nextTick(he,S,E),S._writableState.errorEmitted=!0,M(S,U)):(W(U),S._writableState.errorEmitted=!0,M(S,U),he(S,E))}function ue(S){S.writing=!1,S.writecb=null,S.length-=S.writelen,S.writelen=0}function Le(S,E){var T=S._writableState,U=T.sync,W=T.writecb;if(typeof W!="function")throw new C;if(ue(T),E)ce(S,T,U,E,W);else{var d=Ie(T)||S.destroyed;!d&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&ge(S,T),U?process.nextTick(_e,S,T,d,W):_e(S,T,d,W)}}function _e(S,E,T,U){T||ke(S,E),E.pendingcb--,U(),he(S,E)}function ke(S,E){E.length===0&&E.needDrain&&(E.needDrain=!1,S.emit("drain"))}function ge(S,E){E.bufferProcessing=!0;var T=E.bufferedRequest;if(S._writev&&T&&T.next){var U=E.bufferedRequestCount,W=new Array(U),d=E.corkedRequestsFree;d.entry=T;for(var f=0,R=!0;T;)W[f]=T,T.isBuf||(R=!1),T=T.next,f+=1;W.allBuffers=R,ee(S,E,!0,E.length,W,"",d.finish),E.pendingcb++,E.lastBufferedRequest=null,d.next?(E.corkedRequestsFree=d.next,d.next=null):E.corkedRequestsFree=new e(E),E.bufferedRequestCount=0}else{for(;T;){var P=T.chunk,Z=T.encoding,l=T.callback,s=E.objectMode?1:P.length;if(ee(S,E,!1,s,P,Z,l),T=T.next,E.bufferedRequestCount--,E.writing)break}T===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=T,E.bufferProcessing=!1}j.prototype._write=function(S,E,T){T(new w("_write()"))},j.prototype._writev=null,j.prototype.end=function(S,E,T){var U=this._writableState;return typeof S=="function"?(T=S,S=null,E=null):typeof E=="function"&&(T=E,E=null),S!=null&&this.write(S,E),U.corked&&(U.corked=1,this.uncork()),U.ending||Re(this,U,T),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Ie(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function G(S,E){S._final(function(T){E.pendingcb--,T&&M(S,T),E.prefinished=!0,S.emit("prefinish"),he(S,E)})}function Q(S,E){!E.prefinished&&!E.finalCalled&&(typeof S._final=="function"&&!E.destroyed?(E.pendingcb++,E.finalCalled=!0,process.nextTick(G,S,E)):(E.prefinished=!0,S.emit("prefinish")))}function he(S,E){var T=Ie(E);if(T&&(Q(S,E),E.pendingcb===0&&(E.finished=!0,S.emit("finish"),E.autoDestroy))){var U=S._readableState;(!U||U.autoDestroy&&U.endEmitted)&&S.destroy()}return T}function Re(S,E,T){E.ending=!0,he(S,E),T&&(E.finished?process.nextTick(T):S.once("finish",T)),E.ended=!0,S.writable=!1}function ve(S,E,T){var U=S.entry;for(S.entry=null;U;){var W=U.callback;E.pendingcb--,W(T),U=U.next}E.corkedRequestsFree.next=S}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),j.prototype.destroy=h.destroy,j.prototype._undestroy=h.undestroy,j.prototype._destroy=function(S,E){E(S)},xn}var Cn,bi;function lt(){if(bi)return Cn;bi=1;var e=Object.keys||function(_){var v=[];for(var g in _)v.push(g);return v};Cn=u;var t=Ns(),r=Ts();Me(u,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var c=n[i];u.prototype[c]||(u.prototype[c]=r.prototype[c])}function u(_){if(!(this instanceof u))return new u(_);t.call(this,_),r.call(this,_),this.allowHalfOpen=!0,_&&(_.readable===!1&&(this.readable=!1),_.writable===!1&&(this.writable=!1),_.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(h,this)}function h(_){_.end()}return Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=v,this._writableState.destroyed=v)}}),Cn}var kn={},Fn={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=It,n=r.Buffer;function i(u,o){for(var h in u)o[h]=u[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=c);function c(u,o,h){return n(u,o,h)}c.prototype=Object.create(n.prototype),i(n,c),c.from=function(u,o,h){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,o,h)},c.alloc=function(u,o,h){if(typeof u!="number")throw new TypeError("Argument must be a number");var _=n(u);return o!==void 0?typeof h=="string"?_.fill(o,h):_.fill(o):_.fill(0),_},c.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},c.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(Fn,Fn.exports);var ze=Fn.exports,vi;function wi(){if(vi)return kn;vi=1;var e=ze.Buffer,t=e.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(y){if(!y)return"utf8";for(var x;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(x)return;y=(""+y).toLowerCase(),x=!0}}function n(y){var x=r(y);if(typeof x!="string"&&(e.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return x||y}kn.StringDecoder=i;function i(y){this.encoding=n(y);var x;switch(this.encoding){case"utf16le":this.text=g,this.end=b,x=4;break;case"utf8":this.fillLast=h,x=4;break;case"base64":this.text=w,this.end=C,x=3;break;default:this.write=L,this.end=k;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(x)}i.prototype.write=function(y){if(y.length===0)return"";var x,I;if(this.lastNeed){if(x=this.fillLast(y),x===void 0)return"";I=this.lastNeed,this.lastNeed=0}else I=0;return I<y.length?x?x+this.text(y,I):this.text(y,I):x||""},i.prototype.end=v,i.prototype.text=_,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function c(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function u(y,x,I){var M=x.length-1;if(M<I)return 0;var N=c(x[M]);return N>=0?(N>0&&(y.lastNeed=N-1),N):--M<I||N===-2?0:(N=c(x[M]),N>=0?(N>0&&(y.lastNeed=N-2),N):--M<I||N===-2?0:(N=c(x[M]),N>=0?(N>0&&(N===2?N=0:y.lastNeed=N-3),N):0))}function o(y,x,I){if((x[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return y.lastNeed=2,"�"}}function h(y){var x=this.lastTotal-this.lastNeed,I=o(this,y);if(I!==void 0)return I;if(this.lastNeed<=y.length)return y.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,x,0,y.length),this.lastNeed-=y.length}function _(y,x){var I=u(this,y,x);if(!this.lastNeed)return y.toString("utf8",x);this.lastTotal=I;var M=y.length-(I-this.lastNeed);return y.copy(this.lastChar,0,M),y.toString("utf8",x,M)}function v(y){var x=y&&y.length?this.write(y):"";return this.lastNeed?x+"�":x}function g(y,x){if((y.length-x)%2===0){var I=y.toString("utf16le",x);if(I){var M=I.charCodeAt(I.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],I.slice(0,-1)}return I}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",x,y.length-1)}function b(y){var x=y&&y.length?this.write(y):"";if(this.lastNeed){var I=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,I)}return x}function w(y,x){var I=(y.length-x)%3;return I===0?y.toString("base64",x):(this.lastNeed=3-I,this.lastTotal=3,I===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",x,y.length-I))}function C(y){var x=y&&y.length?this.write(y):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function L(y){return y.toString(this.encoding)}function k(y){return y&&y.length?this.write(y):""}return kn}var mi=Qe.codes.ERR_STREAM_PREMATURE_CLOSE;function Wo(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Ho(){}function $o(e){return e.setHeader&&typeof e.abort=="function"}function Bs(e,t,r){if(typeof t=="function")return Bs(e,null,t);t||(t={}),r=Wo(r||Ho);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,c=function(){e.writable||o()},u=e._writableState&&e._writableState.finished,o=function(){i=!1,u=!0,n||r.call(e)},h=e._readableState&&e._readableState.endEmitted,_=function(){n=!1,h=!0,i||r.call(e)},v=function(C){r.call(e,C)},g=function(){var C;if(n&&!h)return(!e._readableState||!e._readableState.ended)&&(C=new mi),r.call(e,C);if(i&&!u)return(!e._writableState||!e._writableState.ended)&&(C=new mi),r.call(e,C)},b=function(){e.req.on("finish",o)};return $o(e)?(e.on("complete",o),e.on("abort",g),e.req?b():e.on("request",b)):i&&!e._writableState&&(e.on("end",c),e.on("close",c)),e.on("end",_),e.on("finish",o),t.error!==!1&&e.on("error",v),e.on("close",g),function(){e.removeListener("complete",o),e.removeListener("abort",g),e.removeListener("request",b),e.req&&e.req.removeListener("finish",o),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",o),e.removeListener("end",_),e.removeListener("error",v),e.removeListener("close",g)}}var Qn=Bs,In,Ei;function qo(){if(Ei)return In;Ei=1;var e;function t(I,M,N){return M=r(M),M in I?Object.defineProperty(I,M,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[M]=N,I}function r(I){var M=n(I,"string");return typeof M=="symbol"?M:String(M)}function n(I,M){if(typeof I!="object"||I===null)return I;var N=I[Symbol.toPrimitive];if(N!==void 0){var F=N.call(I,M||"default");if(typeof F!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(I)}var i=Qn,c=Symbol("lastResolve"),u=Symbol("lastReject"),o=Symbol("error"),h=Symbol("ended"),_=Symbol("lastPromise"),v=Symbol("handlePromise"),g=Symbol("stream");function b(I,M){return{value:I,done:M}}function w(I){var M=I[c];if(M!==null){var N=I[g].read();N!==null&&(I[_]=null,I[c]=null,I[u]=null,M(b(N,!1)))}}function C(I){process.nextTick(w,I)}function L(I,M){return function(N,F){I.then(function(){if(M[h]){N(b(void 0,!0));return}M[v](N,F)},F)}}var k=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[g]},next:function(){var M=this,N=this[o];if(N!==null)return Promise.reject(N);if(this[h])return Promise.resolve(b(void 0,!0));if(this[g].destroyed)return new Promise(function(D,re){process.nextTick(function(){M[o]?re(M[o]):D(b(void 0,!0))})});var F=this[_],K;if(F)K=new Promise(L(F,this));else{var j=this[g].read();if(j!==null)return Promise.resolve(b(j,!1));K=new Promise(this[v])}return this[_]=K,K}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var M=this;return new Promise(function(N,F){M[g].destroy(null,function(K){if(K){F(K);return}N(b(void 0,!0))})})}),e),k),x=function(M){var N,F=Object.create(y,(N={},t(N,g,{value:M,writable:!0}),t(N,c,{value:null,writable:!0}),t(N,u,{value:null,writable:!0}),t(N,o,{value:null,writable:!0}),t(N,h,{value:M._readableState.endEmitted,writable:!0}),t(N,v,{value:function(j,D){var re=F[g].read();re?(F[_]=null,F[c]=null,F[u]=null,j(b(re,!1))):(F[c]=j,F[u]=D)},writable:!0}),N));return F[_]=null,i(M,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var j=F[u];j!==null&&(F[_]=null,F[c]=null,F[u]=null,j(K)),F[o]=K;return}var D=F[c];D!==null&&(F[_]=null,F[c]=null,F[u]=null,D(b(void 0,!0))),F[h]=!0}),M.on("readable",C.bind(null,F)),F};return In=x,In}var Rn,Si;function Ko(){return Si||(Si=1,Rn=function(){throw new Error("Readable.from is not available in the browser")}),Rn}var An,xi;function Ns(){if(xi)return An;xi=1,An=D;var e;D.ReadableState=j,us.EventEmitter;var t=function(f,R){return f.listeners(R).length},r=Is,n=It.Buffer,i=(typeof oe<"u"?oe:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(d){return n.from(d)}function u(d){return n.isBuffer(d)||d instanceof i}var o=ls,h;o&&o.debuglog?h=o.debuglog("stream"):h=function(){};var _=Ro(),v=As,g=Ls,b=g.getHighWaterMark,w=Qe.codes,C=w.ERR_INVALID_ARG_TYPE,L=w.ERR_STREAM_PUSH_AFTER_EOF,k=w.ERR_METHOD_NOT_IMPLEMENTED,y=w.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,I,M;Me(D,r);var N=v.errorOrDestroy,F=["error","close","destroy","pause","resume"];function K(d,f,R){if(typeof d.prependListener=="function")return d.prependListener(f,R);!d._events||!d._events[f]?d.on(f,R):Array.isArray(d._events[f])?d._events[f].unshift(R):d._events[f]=[R,d._events[f]]}function j(d,f,R){e=e||lt(),d=d||{},typeof R!="boolean"&&(R=f instanceof e),this.objectMode=!!d.objectMode,R&&(this.objectMode=this.objectMode||!!d.readableObjectMode),this.highWaterMark=b(this,d,"readableHighWaterMark",R),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=d.emitClose!==!1,this.autoDestroy=!!d.autoDestroy,this.destroyed=!1,this.defaultEncoding=d.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,d.encoding&&(x||(x=wi().StringDecoder),this.decoder=new x(d.encoding),this.encoding=d.encoding)}function D(d){if(e=e||lt(),!(this instanceof D))return new D(d);var f=this instanceof e;this._readableState=new j(d,this,f),this.readable=!0,d&&(typeof d.read=="function"&&(this._read=d.read),typeof d.destroy=="function"&&(this._destroy=d.destroy)),r.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(f){this._readableState&&(this._readableState.destroyed=f)}}),D.prototype.destroy=v.destroy,D.prototype._undestroy=v.undestroy,D.prototype._destroy=function(d,f){f(d)},D.prototype.push=function(d,f){var R=this._readableState,P;return R.objectMode?P=!0:typeof d=="string"&&(f=f||R.defaultEncoding,f!==R.encoding&&(d=n.from(d,f),f=""),P=!0),re(this,d,f,!1,P)},D.prototype.unshift=function(d){return re(this,d,null,!0,!1)};function re(d,f,R,P,Z){h("readableAddChunk",f);var l=d._readableState;if(f===null)l.reading=!1,Le(d,l);else{var s;if(Z||(s=Ce(l,f)),s)N(d,s);else if(l.objectMode||f&&f.length>0)if(typeof f!="string"&&!l.objectMode&&Object.getPrototypeOf(f)!==n.prototype&&(f=c(f)),P)l.endEmitted?N(d,new y):be(d,l,f,!0);else if(l.ended)N(d,new L);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!R?(f=l.decoder.write(f),l.objectMode||f.length!==0?be(d,l,f,!1):ge(d,l)):be(d,l,f,!1)}else P||(l.reading=!1,ge(d,l))}return!l.ended&&(l.length<l.highWaterMark||l.length===0)}function be(d,f,R,P){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,d.emit("data",R)):(f.length+=f.objectMode?1:R.length,P?f.buffer.unshift(R):f.buffer.push(R),f.needReadable&&_e(d)),ge(d,f)}function Ce(d,f){var R;return!u(f)&&typeof f!="string"&&f!==void 0&&!d.objectMode&&(R=new C("chunk",["string","Buffer","Uint8Array"],f)),R}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(d){x||(x=wi().StringDecoder);var f=new x(d);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var R=this._readableState.buffer.head,P="";R!==null;)P+=f.write(R.data),R=R.next;return this._readableState.buffer.clear(),P!==""&&this._readableState.buffer.push(P),this._readableState.length=P.length,this};var ee=1073741824;function ce(d){return d>=ee?d=ee:(d--,d|=d>>>1,d|=d>>>2,d|=d>>>4,d|=d>>>8,d|=d>>>16,d++),d}function ue(d,f){return d<=0||f.length===0&&f.ended?0:f.objectMode?1:d!==d?f.flowing&&f.length?f.buffer.head.data.length:f.length:(d>f.highWaterMark&&(f.highWaterMark=ce(d)),d<=f.length?d:f.ended?f.length:(f.needReadable=!0,0))}D.prototype.read=function(d){h("read",d),d=parseInt(d,10);var f=this._readableState,R=d;if(d!==0&&(f.emittedReadable=!1),d===0&&f.needReadable&&((f.highWaterMark!==0?f.length>=f.highWaterMark:f.length>0)||f.ended))return h("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?T(this):_e(this),null;if(d=ue(d,f),d===0&&f.ended)return f.length===0&&T(this),null;var P=f.needReadable;h("need readable",P),(f.length===0||f.length-d<f.highWaterMark)&&(P=!0,h("length less than watermark",P)),f.ended||f.reading?(P=!1,h("reading or ended",P)):P&&(h("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,f.reading||(d=ue(R,f)));var Z;return d>0?Z=E(d,f):Z=null,Z===null?(f.needReadable=f.length<=f.highWaterMark,d=0):(f.length-=d,f.awaitDrain=0),f.length===0&&(f.ended||(f.needReadable=!0),R!==d&&f.ended&&T(this)),Z!==null&&this.emit("data",Z),Z};function Le(d,f){if(h("onEofChunk"),!f.ended){if(f.decoder){var R=f.decoder.end();R&&R.length&&(f.buffer.push(R),f.length+=f.objectMode?1:R.length)}f.ended=!0,f.sync?_e(d):(f.needReadable=!1,f.emittedReadable||(f.emittedReadable=!0,ke(d)))}}function _e(d){var f=d._readableState;h("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(h("emitReadable",f.flowing),f.emittedReadable=!0,process.nextTick(ke,d))}function ke(d){var f=d._readableState;h("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(d.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,S(d)}function ge(d,f){f.readingMore||(f.readingMore=!0,process.nextTick(Ie,d,f))}function Ie(d,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var R=f.length;if(h("maybeReadMore read 0"),d.read(0),R===f.length)break}f.readingMore=!1}D.prototype._read=function(d){N(this,new k("_read()"))},D.prototype.pipe=function(d,f){var R=this,P=this._readableState;switch(P.pipesCount){case 0:P.pipes=d;break;case 1:P.pipes=[P.pipes,d];break;default:P.pipes.push(d);break}P.pipesCount+=1,h("pipe count=%d opts=%j",P.pipesCount,f);var Z=(!f||f.end!==!1)&&d!==process.stdout&&d!==process.stderr,l=Z?a:J;P.endEmitted?process.nextTick(l):R.once("end",l),d.on("unpipe",s);function s(z,fe){h("onunpipe"),z===R&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,A())}function a(){h("onend"),d.end()}var p=G(R);d.on("drain",p);var m=!1;function A(){h("cleanup"),d.removeListener("close",$),d.removeListener("finish",V),d.removeListener("drain",p),d.removeListener("error",H),d.removeListener("unpipe",s),R.removeListener("end",a),R.removeListener("end",J),R.removeListener("data",B),m=!0,P.awaitDrain&&(!d._writableState||d._writableState.needDrain)&&p()}R.on("data",B);function B(z){h("ondata");var fe=d.write(z);h("dest.write",fe),fe===!1&&((P.pipesCount===1&&P.pipes===d||P.pipesCount>1&&W(P.pipes,d)!==-1)&&!m&&(h("false write response, pause",P.awaitDrain),P.awaitDrain++),R.pause())}function H(z){h("onerror",z),J(),d.removeListener("error",H),t(d,"error")===0&&N(d,z)}K(d,"error",H);function $(){d.removeListener("finish",V),J()}d.once("close",$);function V(){h("onfinish"),d.removeListener("close",$),J()}d.once("finish",V);function J(){h("unpipe"),R.unpipe(d)}return d.emit("pipe",R),P.flowing||(h("pipe resume"),R.resume()),d};function G(d){return function(){var R=d._readableState;h("pipeOnDrain",R.awaitDrain),R.awaitDrain&&R.awaitDrain--,R.awaitDrain===0&&t(d,"data")&&(R.flowing=!0,S(d))}}D.prototype.unpipe=function(d){var f=this._readableState,R={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return d&&d!==f.pipes?this:(d||(d=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,d&&d.emit("unpipe",this,R),this);if(!d){var P=f.pipes,Z=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var l=0;l<Z;l++)P[l].emit("unpipe",this,{hasUnpiped:!1});return this}var s=W(f.pipes,d);return s===-1?this:(f.pipes.splice(s,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),d.emit("unpipe",this,R),this)},D.prototype.on=function(d,f){var R=r.prototype.on.call(this,d,f),P=this._readableState;return d==="data"?(P.readableListening=this.listenerCount("readable")>0,P.flowing!==!1&&this.resume()):d==="readable"&&!P.endEmitted&&!P.readableListening&&(P.readableListening=P.needReadable=!0,P.flowing=!1,P.emittedReadable=!1,h("on readable",P.length,P.reading),P.length?_e(this):P.reading||process.nextTick(he,this)),R},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(d,f){var R=r.prototype.removeListener.call(this,d,f);return d==="readable"&&process.nextTick(Q,this),R},D.prototype.removeAllListeners=function(d){var f=r.prototype.removeAllListeners.apply(this,arguments);return(d==="readable"||d===void 0)&&process.nextTick(Q,this),f};function Q(d){var f=d._readableState;f.readableListening=d.listenerCount("readable")>0,f.resumeScheduled&&!f.paused?f.flowing=!0:d.listenerCount("data")>0&&d.resume()}function he(d){h("readable nexttick read 0"),d.read(0)}D.prototype.resume=function(){var d=this._readableState;return d.flowing||(h("resume"),d.flowing=!d.readableListening,Re(this,d)),d.paused=!1,this};function Re(d,f){f.resumeScheduled||(f.resumeScheduled=!0,process.nextTick(ve,d,f))}function ve(d,f){h("resume",f.reading),f.reading||d.read(0),f.resumeScheduled=!1,d.emit("resume"),S(d),f.flowing&&!f.reading&&d.read(0)}D.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function S(d){var f=d._readableState;for(h("flow",f.flowing);f.flowing&&d.read()!==null;);}D.prototype.wrap=function(d){var f=this,R=this._readableState,P=!1;d.on("end",function(){if(h("wrapped end"),R.decoder&&!R.ended){var s=R.decoder.end();s&&s.length&&f.push(s)}f.push(null)}),d.on("data",function(s){if(h("wrapped data"),R.decoder&&(s=R.decoder.write(s)),!(R.objectMode&&s==null)&&!(!R.objectMode&&(!s||!s.length))){var a=f.push(s);a||(P=!0,d.pause())}});for(var Z in d)this[Z]===void 0&&typeof d[Z]=="function"&&(this[Z]=function(a){return function(){return d[a].apply(d,arguments)}}(Z));for(var l=0;l<F.length;l++)d.on(F[l],this.emit.bind(this,F[l]));return this._read=function(s){h("wrapped _read",s),P&&(P=!1,d.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return I===void 0&&(I=qo()),I(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(f){this._readableState&&(this._readableState.flowing=f)}}),D._fromList=E,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function E(d,f){if(f.length===0)return null;var R;return f.objectMode?R=f.buffer.shift():!d||d>=f.length?(f.decoder?R=f.buffer.join(""):f.buffer.length===1?R=f.buffer.first():R=f.buffer.concat(f.length),f.buffer.clear()):R=f.buffer.consume(d,f.decoder),R}function T(d){var f=d._readableState;h("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,process.nextTick(U,f,d))}function U(d,f){if(h("endReadableNT",d.endEmitted,d.length),!d.endEmitted&&d.length===0&&(d.endEmitted=!0,f.readable=!1,f.emit("end"),d.autoDestroy)){var R=f._writableState;(!R||R.autoDestroy&&R.finished)&&f.destroy()}}typeof Symbol=="function"&&(D.from=function(d,f){return M===void 0&&(M=Ko()),M(D,d,f)});function W(d,f){for(var R=0,P=d.length;R<P;R++)if(d[R]===f)return R;return-1}return An}var Ps=qe,or=Qe.codes,zo=or.ERR_METHOD_NOT_IMPLEMENTED,Vo=or.ERR_MULTIPLE_CALLBACK,Go=or.ERR_TRANSFORM_ALREADY_TRANSFORMING,Zo=or.ERR_TRANSFORM_WITH_LENGTH_0,cr=lt();Me(qe,cr);function Yo(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Vo);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function qe(e){if(!(this instanceof qe))return new qe(e);cr.call(this,e),this._transformState={afterTransform:Yo.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Jo)}function Jo(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Ci(e,t,r)}):Ci(this,null,null)}qe.prototype.push=function(e,t){return this._transformState.needTransform=!1,cr.prototype.push.call(this,e,t)};qe.prototype._transform=function(e,t,r){r(new zo("_transform()"))};qe.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};qe.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};qe.prototype._destroy=function(e,t){cr.prototype._destroy.call(this,e,function(r){t(r)})};function Ci(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Zo;if(e._transformState.transforming)throw new Go;return e.push(null)}var Qo=Et,Ds=Ps;Me(Et,Ds);function Et(e){if(!(this instanceof Et))return new Et(e);Ds.call(this,e)}Et.prototype._transform=function(e,t,r){r(null,e)};var Mn;function Xo(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var Os=Qe.codes,ec=Os.ERR_MISSING_ARGS,tc=Os.ERR_STREAM_DESTROYED;function ki(e){if(e)throw e}function rc(e){return e.setHeader&&typeof e.abort=="function"}function nc(e,t,r,n){n=Xo(n);var i=!1;e.on("close",function(){i=!0}),Mn===void 0&&(Mn=Qn),Mn(e,{readable:t,writable:r},function(u){if(u)return n(u);i=!0,n()});var c=!1;return function(u){if(!i&&!c){if(c=!0,rc(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(u||new tc("pipe"))}}}function Ii(e){e()}function ic(e,t){return e.pipe(t)}function sc(e){return!e.length||typeof e[e.length-1]!="function"?ki:e.pop()}function ac(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=sc(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new ec("streams");var i,c=t.map(function(u,o){var h=o<t.length-1,_=o>0;return nc(u,h,_,function(v){i||(i=v),v&&c.forEach(Ii),!h&&(c.forEach(Ii),n(i))})});return t.reduce(ic)}var oc=ac;(function(e,t){t=e.exports=Ns(),t.Stream=t,t.Readable=t,t.Writable=Ts(),t.Duplex=lt(),t.Transform=Ps,t.PassThrough=Qo,t.finished=Qn,t.pipeline=oc})(Dn,Dn.exports);var Us=Dn.exports;const{Transform:cc}=Us;var uc=e=>class Fs extends cc{constructor(r,n,i,c,u){super(u),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=c,this._options=u,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let c=null;try{this.update(r,n)}catch(u){c=u}i(c)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Fs(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:lc}=Us;var hc=e=>class js extends lc{constructor(r,n,i,c){super(c),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=c,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let c=null;try{this.update(r,n)}catch(u){c=u}i(c)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new js(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const dc=uc,fc=hc;var pc=function(e){const t=dc(e),r=fc(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Ws={};const Ri=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Ws.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],c=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],o=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],_=e[7]^e[17]^e[27]^e[37]^e[47],v=e[8]^e[18]^e[28]^e[38]^e[48],g=e[9]^e[19]^e[29]^e[39]^e[49];let b=v^(i<<1|c>>>31),w=g^(c<<1|i>>>31);const C=e[0]^b,L=e[1]^w,k=e[10]^b,y=e[11]^w,x=e[20]^b,I=e[21]^w,M=e[30]^b,N=e[31]^w,F=e[40]^b,K=e[41]^w;b=r^(u<<1|o>>>31),w=n^(o<<1|u>>>31);const j=e[2]^b,D=e[3]^w,re=e[12]^b,be=e[13]^w,Ce=e[22]^b,ee=e[23]^w,ce=e[32]^b,ue=e[33]^w,Le=e[42]^b,_e=e[43]^w;b=i^(h<<1|_>>>31),w=c^(_<<1|h>>>31);const ke=e[4]^b,ge=e[5]^w,Ie=e[14]^b,G=e[15]^w,Q=e[24]^b,he=e[25]^w,Re=e[34]^b,ve=e[35]^w,S=e[44]^b,E=e[45]^w;b=u^(v<<1|g>>>31),w=o^(g<<1|v>>>31);const T=e[6]^b,U=e[7]^w,W=e[16]^b,d=e[17]^w,f=e[26]^b,R=e[27]^w,P=e[36]^b,Z=e[37]^w,l=e[46]^b,s=e[47]^w;b=h^(r<<1|n>>>31),w=_^(n<<1|r>>>31);const a=e[8]^b,p=e[9]^w,m=e[18]^b,A=e[19]^w,B=e[28]^b,H=e[29]^w,$=e[38]^b,V=e[39]^w,J=e[48]^b,z=e[49]^w,fe=C,tt=L,rt=y<<4|k>>>28,xr=k<<4|y>>>28,Cr=x<<3|I>>>29,kr=I<<3|x>>>29,Ir=N<<9|M>>>23,Rr=M<<9|N>>>23,Ar=F<<18|K>>>14,Mr=K<<18|F>>>14,Lr=j<<1|D>>>31,Tr=D<<1|j>>>31,Br=be<<12|re>>>20,Nr=re<<12|be>>>20,Pr=Ce<<10|ee>>>22,Dr=ee<<10|Ce>>>22,Or=ue<<13|ce>>>19,Ur=ce<<13|ue>>>19,Fr=Le<<2|_e>>>30,jr=_e<<2|Le>>>30,Wr=ge<<30|ke>>>2,Hr=ke<<30|ge>>>2,$r=Ie<<6|G>>>26,qr=G<<6|Ie>>>26,Kr=he<<11|Q>>>21,zr=Q<<11|he>>>21,Vr=Re<<15|ve>>>17,Gr=ve<<15|Re>>>17,Zr=E<<29|S>>>3,Yr=S<<29|E>>>3,Jr=T<<28|U>>>4,Qr=U<<28|T>>>4,Xr=d<<23|W>>>9,en=W<<23|d>>>9,tn=f<<25|R>>>7,rn=R<<25|f>>>7,nn=P<<21|Z>>>11,sn=Z<<21|P>>>11,an=s<<24|l>>>8,on=l<<24|s>>>8,cn=a<<27|p>>>5,un=p<<27|a>>>5,ln=m<<20|A>>>12,hn=A<<20|m>>>12,dn=H<<7|B>>>25,fn=B<<7|H>>>25,pn=$<<8|V>>>24,_n=V<<8|$>>>24,gn=J<<14|z>>>18,yn=z<<14|J>>>18;e[0]=fe^~Br&Kr,e[1]=tt^~Nr&zr,e[10]=Jr^~ln&Cr,e[11]=Qr^~hn&kr,e[20]=Lr^~$r&tn,e[21]=Tr^~qr&rn,e[30]=cn^~rt&Pr,e[31]=un^~xr&Dr,e[40]=Wr^~Xr&dn,e[41]=Hr^~en&fn,e[2]=Br^~Kr&nn,e[3]=Nr^~zr&sn,e[12]=ln^~Cr&Or,e[13]=hn^~kr&Ur,e[22]=$r^~tn&pn,e[23]=qr^~rn&_n,e[32]=rt^~Pr&Vr,e[33]=xr^~Dr&Gr,e[42]=Xr^~dn&Ir,e[43]=en^~fn&Rr,e[4]=Kr^~nn&gn,e[5]=zr^~sn&yn,e[14]=Cr^~Or&Zr,e[15]=kr^~Ur&Yr,e[24]=tn^~pn&Ar,e[25]=rn^~_n&Mr,e[34]=Pr^~Vr&an,e[35]=Dr^~Gr&on,e[44]=dn^~Ir&Fr,e[45]=fn^~Rr&jr,e[6]=nn^~gn&fe,e[7]=sn^~yn&tt,e[16]=Or^~Zr&Jr,e[17]=Ur^~Yr&Qr,e[26]=pn^~Ar&Lr,e[27]=_n^~Mr&Tr,e[36]=Vr^~an&cn,e[37]=Gr^~on&un,e[46]=Ir^~Fr&Wr,e[47]=Rr^~jr&Hr,e[8]=gn^~fe&Br,e[9]=yn^~tt&Nr,e[18]=Zr^~Jr&ln,e[19]=Yr^~Qr&hn,e[28]=Ar^~Lr&$r,e[29]=Mr^~Tr&qr,e[38]=an^~cn&rt,e[39]=on^~un&xr,e[48]=Fr^~Wr&Xr,e[49]=jr^~Hr&en,e[0]^=Ri[t*2],e[1]^=Ri[t*2+1]}};const Zt=Ws;function _t(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}_t.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};_t.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Zt.p1600(this.state),this.count=0)};_t.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&Zt.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Zt.p1600(this.state),this.count=0,this.squeezing=!0};_t.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Zt.p1600(this.state),this.count=0);return t};_t.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var _c=_t,gc=pc(_c);const yc=gc;function Hs(e){return Buffer.allocUnsafe(e).fill(0)}function bc(e){return e.toString(2).length}function $s(e,t){let r=e.toString(16);r.length%2!==0&&(r="0"+r);const n=r.match(/.{1,2}/g).map(i=>parseInt(i,16));for(;n.length<t;)n.unshift(0);return Buffer.from(n)}function vc(e,t){const r=e<0n;let n;if(r){const i=(1n<<BigInt(t))-1n;n=(~e&i)+1n}else n=e;return n&=(1n<<BigInt(t))-1n,n}function qs(e,t,r){const n=Hs(t);return e=ur(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function wc(e,t){return qs(e,t,!0)}function ur(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")Ks(e)?e=Buffer.from(Sc(zs(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(typeof e=="bigint")e=$s(e);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function mc(e){return e=ur(e),"0x"+e.toString("hex")}function Ec(e,t){return e=ur(e),t||(t=256),yc("keccak"+t).update(e).digest()}function Sc(e){return e.length%2?"0"+e:e}function Ks(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function zs(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var Vs={zeros:Hs,setLength:qs,setLengthRight:wc,isHexString:Ks,stripHexPrefix:zs,toBuffer:ur,bufferToHex:mc,keccak:Ec,bitLengthFromBigInt:bc,bufferBEFromBigInt:$s,twosFromBigInt:vc};const pe=Vs;function Gs(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function ut(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function Ai(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Zs(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function Ve(e){var t=typeof e;if(t==="string"||t==="number")return BigInt(e);if(t==="bigint")return e;throw new Error("Argument is not a number")}function Te(e,t){var r,n,i,c;if(e==="address")return Te("uint160",Ve(t));if(e==="bool")return Te("uint8",t?1:0);if(e==="string")return Te("bytes",new Buffer(t,"utf8"));if(Cc(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Zs(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(c in t)i.push(Te(e,t[c]));if(r==="dynamic"){var u=Te("uint256",t.length);i.unshift(u)}return Buffer.concat(i)}else{if(e==="bytes")return t=new Buffer(t),i=Buffer.concat([Te("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,pe.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(r=ut(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return pe.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=ut(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=Ve(t);const o=pe.bitLengthFromBigInt(n);if(o>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+o);if(n<0)throw new Error("Supplied uint is negative");return pe.bufferBEFromBigInt(n,32)}else if(e.startsWith("int")){if(r=ut(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=Ve(t);const o=pe.bitLengthFromBigInt(n);if(o>r)throw new Error("Supplied int exceeds width: "+r+" vs "+o);const h=pe.twosFromBigInt(n,256);return pe.bufferBEFromBigInt(h,32)}else if(e.startsWith("ufixed")){if(r=Ai(e),n=Ve(t),n<0)throw new Error("Supplied ufixed is negative");return Te("uint256",n*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=Ai(e),Te("int256",Ve(t)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+e)}function xc(e){return e==="string"||e==="bytes"||Zs(e)==="dynamic"}function Cc(e){return e.lastIndexOf("]")===e.length-1}function kc(e,t){var r=[],n=[],i=32*e.length;for(var c in e){var u=Gs(e[c]),o=t[c],h=Te(u,o);xc(u)?(r.push(Te("uint256",i)),n.push(h),i+=h.length):r.push(h)}return Buffer.concat(r.concat(n))}function Ys(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],c=0;c<e.length;c++){var u=Gs(e[c]),o=t[c];if(u==="bytes")i.push(o);else if(u==="string")i.push(new Buffer(o,"utf8"));else if(u==="bool")i.push(new Buffer(o?"01":"00","hex"));else if(u==="address")i.push(pe.setLength(o,20));else if(u.startsWith("bytes")){if(r=ut(u),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(pe.setLengthRight(o,r))}else if(u.startsWith("uint")){if(r=ut(u),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=Ve(o);const h=pe.bitLengthFromBigInt(n);if(h>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+h);i.push(pe.bufferBEFromBigInt(n,r/8))}else if(u.startsWith("int")){if(r=ut(u),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=Ve(o);const h=pe.bitLengthFromBigInt(n);if(h>r)throw new Error("Supplied int exceeds width: "+r+" vs "+h);const _=pe.twosFromBigInt(n,r);i.push(pe.bufferBEFromBigInt(_,r/8))}else throw new Error("Unsupported or invalid type: "+u)}return Buffer.concat(i)}function Ic(e,t){return pe.keccak(Ys(e,t))}var Rc={rawEncode:kc,solidityPack:Ys,soliditySHA3:Ic};const Ae=Vs,bt=Rc,Js={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ln={encodeData(e,t,r,n=!0){const i=["bytes32"],c=[this.hashType(e,r)];if(n){const u=(o,h,_)=>{if(r[h]!==void 0)return["bytes32",_==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ae.keccak(this.encodeData(h,_,r,n))];if(_===void 0)throw new Error(`missing value for field ${o} of type ${h}`);if(h==="bytes")return["bytes32",Ae.keccak(_)];if(h==="string")return typeof _=="string"&&(_=Buffer.from(_,"utf8")),["bytes32",Ae.keccak(_)];if(h.lastIndexOf("]")===h.length-1){const v=h.slice(0,h.lastIndexOf("[")),g=_.map(b=>u(o,v,b));return["bytes32",Ae.keccak(bt.rawEncode(g.map(([b])=>b),g.map(([,b])=>b)))]}return[h,_]};for(const o of r[e]){const[h,_]=u(o.name,o.type,t[o.name]);i.push(h),c.push(_)}}else for(const u of r[e]){let o=t[u.name];if(o!==void 0)if(u.type==="bytes")i.push("bytes32"),o=Ae.keccak(o),c.push(o);else if(u.type==="string")i.push("bytes32"),typeof o=="string"&&(o=Buffer.from(o,"utf8")),o=Ae.keccak(o),c.push(o);else if(r[u.type]!==void 0)i.push("bytes32"),o=Ae.keccak(this.encodeData(u.type,o,r,n)),c.push(o);else{if(u.type.lastIndexOf("]")===u.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(u.type),c.push(o)}}return bt.rawEncode(i,c)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(i=>i!==e);n=[e].concat(n.sort());for(const i of n){if(!t[i])throw new Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:u,type:o})=>o+" "+u).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const i of this.findTypeDependencies(n.type,t,r))!r.includes(i)&&r.push(i);return r},hashStruct(e,t,r,n=!0){return Ae.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Ae.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Js.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Ae.keccak(Buffer.concat(n))}};var Ac={TYPED_MESSAGE_SCHEMA:Js,TypedDataUtils:Ln,hashForSignTypedDataLegacy:function(e){return Mc(e.data)},hashForSignTypedData_v3:function(e){return Ln.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return Ln.hash(e.data)}};function Mc(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(c){return c.type==="bytes"?Ae.toBuffer(c.value):c.value}),n=e.map(function(c){return c.type}),i=e.map(function(c){if(!c.name)throw t;return c.type+" "+c.name});return bt.soliditySHA3(["bytes32","bytes32"],[bt.soliditySHA3(new Array(e.length).fill("string"),i),bt.soliditySHA3(n,r)])}var De={};Object.defineProperty(De,"__esModule",{value:!0});De.APP_VERSION_KEY=De.LOCAL_STORAGE_ADDRESSES_KEY=De.WALLET_USER_NAME_KEY=void 0;De.WALLET_USER_NAME_KEY="walletUsername";De.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";De.APP_VERSION_KEY="AppVersion";var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});Rt.RelayEventManager=void 0;const Lc=O;class Tc{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,Lc.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}Rt.RelayEventManager=Tc;var lr={},hr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.WalletLinkCipher=void 0;const Ft=O;class Bc{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,Ft.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),c=new TextEncoder,u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,c.encode(t)),o=16,h=u.slice(u.byteLength-o),_=u.slice(0,u.byteLength-o),v=new Uint8Array(h),g=new Uint8Array(_),b=new Uint8Array([...n,...v,...g]);return(0,Ft.uint8ArrayToHex)(b)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const c=await crypto.subtle.importKey("raw",(0,Ft.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),u=(0,Ft.hexStringToUint8Array)(t),o=u.slice(0,12),h=u.slice(12,28),_=u.slice(28),v=new Uint8Array([..._,...h]),g={name:"AES-GCM",iv:new Uint8Array(o)};try{const b=await window.crypto.subtle.decrypt(g,c,v),w=new TextDecoder;n(w.decode(b))}catch(b){i(b)}})()})}}dr.WalletLinkCipher=Bc;var fr={};Object.defineProperty(fr,"__esModule",{value:!0});fr.WalletLinkHTTP=void 0;class Nc{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const c=(t=n==null?void 0:n.filter(u=>u.event==="Web3Response").map(u=>({type:"Event",sessionId:this.sessionId,eventId:u.id,event:u.event,data:u.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(c),c}throw new Error(`Check unseen events failed: ${r.status}`)}}fr.WalletLinkHTTP=Nc;var ht={};Object.defineProperty(ht,"__esModule",{value:!0});ht.WalletLinkWebSocket=ht.ConnectionState=void 0;var ct;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(ct||(ht.ConnectionState=ct={}));class Pc{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(c){r(c);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,ct.CONNECTING),i.onclose=c=>{var u;this.clearWebSocket(),r(new Error(`websocket error ${c.code}: ${c.reason}`)),(u=this.connectionStateListener)===null||u===void 0||u.call(this,ct.DISCONNECTED)},i.onopen=c=>{var u;t(),(u=this.connectionStateListener)===null||u===void 0||u.call(this,ct.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(h=>this.sendData(h)),this.pendingData=[])},i.onmessage=c=>{var u,o;if(c.data==="h")(u=this.incomingDataListener)===null||u===void 0||u.call(this,{type:"Heartbeat"});else try{const h=JSON.parse(c.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,h)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,ct.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}ht.WalletLinkWebSocket=Pc;Object.defineProperty(hr,"__esModule",{value:!0});hr.WalletLinkConnection=void 0;const Mi=De,Dc=dr,Oc=fr,jt=ht,st=de,Li=1e4,Uc=6e4;class Fc{constructor({session:t,linkAPIUrl:r,listener:n,WebSocketClass:i=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,st.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=u=>{if(!u)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",h=>u.JsonRpcUrl&&this.handleChainUpdated(h,u.JsonRpcUrl)]]).forEach((h,_)=>{const v=u[_];v!==void 0&&h(v)})},this.handleDestroyed=u=>{var o;u==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async u=>{var o;{const h=await this.cipher.decrypt(u);(o=this.listener)===null||o===void 0||o.accountUpdated(h)}},this.handleMetadataUpdated=async(u,o)=>{var h;{const _=await this.cipher.decrypt(o);(h=this.listener)===null||h===void 0||h.metadataUpdated(u,_)}},this.handleWalletUsernameUpdated=async u=>{this.handleMetadataUpdated(Mi.WALLET_USER_NAME_KEY,u)},this.handleAppVersionUpdated=async u=>{this.handleMetadataUpdated(Mi.APP_VERSION_KEY,u)},this.handleChainUpdated=async(u,o)=>{var h;{const _=await this.cipher.decrypt(u),v=await this.cipher.decrypt(o);(h=this.listener)===null||h===void 0||h.chainUpdated(_,v)}},this.session=t,this.cipher=new Dc.WalletLinkCipher(t.secret),this.listener=n;const c=new jt.WalletLinkWebSocket(`${r}/rpc`,i);c.setConnectionStateListener(async u=>{let o=!1;switch(u){case jt.ConnectionState.DISCONNECTED:if(!this.destroyed){const h=async()=>{await new Promise(_=>setTimeout(_,5e3)),this.destroyed||c.connect().catch(()=>{h()})};h()}break;case jt.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),o=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Li),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case jt.ConnectionState.CONNECTING:break}this.connected!==o&&(this.connected=o)}),c.setIncomingDataListener(u=>{var o;switch(u.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const h=u.type==="IsLinkedOK"?u.linked:void 0;this.linked=h||u.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(u.metadata);break}case"Event":{this.handleIncomingEvent(u);break}}u.id!==void 0&&((o=this.requestResolutions.get(u.id))===null||o===void 0||o(u))}),this.ws=c,this.http=new Oc.WalletLinkHTTP(r,t.id,t.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}destroy(){this.destroyed=!0,this.ws.disconnect(),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this))}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r;if(!(t.type!=="Event"||t.event!=="Web3Response")){const n=await this.cipher.decrypt(t.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(i)}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,st.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),c={type:"PublishEvent",id:(0,st.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const u=await this.makeRequest(c);if(u.type==="Fail")throw new Error(u.error||"failed to publish event");return u.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Li*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=Uc){const n=t.id;this.sendData(t);let i;return Promise.race([new Promise((c,u)=>{i=window.setTimeout(()=>{u(new Error(`request ${n} timed out`))},r)}),new Promise(c=>{this.requestResolutions.set(n,u=>{clearTimeout(i),c(u),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,st.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authenticate")}sendIsLinked(){const t={type:"IsLinked",id:(0,st.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,st.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}hr.WalletLinkConnection=Fc;var pr={},Qs={exports:{}},Xs=ze.Buffer;function _r(e,t){this._block=Xs.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}_r.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=Xs.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,c=this._len,u=0;u<i;){for(var o=c%n,h=Math.min(i-u,n-o),_=0;_<h;_++)r[o+_]=e[u+_];c+=h,u+=h,c%n===0&&this._update(r)}return this._len+=i,this};_r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var c=this._hash();return e?c.toString(e):c};_r.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var gt=_r,jc=Me,ea=gt,Wc=ze.Buffer,Hc=[1518500249,1859775393,-1894007588,-899497514],$c=new Array(80);function At(){this.init(),this._w=$c,ea.call(this,64,56)}jc(At,ea);At.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qc(e){return e<<5|e>>>27}function Kc(e){return e<<30|e>>>2}function zc(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}At.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,c=this._d|0,u=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=t[o-3]^t[o-8]^t[o-14]^t[o-16];for(var h=0;h<80;++h){var _=~~(h/20),v=qc(r)+zc(_,n,i,c)+u+t[h]+Hc[_]|0;u=c,c=i,i=Kc(n),n=r,r=v}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0};At.prototype._hash=function(){var e=Wc.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var Vc=At,Gc=Me,ta=gt,Zc=ze.Buffer,Yc=[1518500249,1859775393,-1894007588,-899497514],Jc=new Array(80);function Mt(){this.init(),this._w=Jc,ta.call(this,64,56)}Gc(Mt,ta);Mt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Qc(e){return e<<1|e>>>31}function Xc(e){return e<<5|e>>>27}function eu(e){return e<<30|e>>>2}function tu(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Mt.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,c=this._d|0,u=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=Qc(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var h=0;h<80;++h){var _=~~(h/20),v=Xc(r)+tu(_,n,i,c)+u+t[h]+Yc[_]|0;u=c,c=i,i=eu(n),n=r,r=v}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0};Mt.prototype._hash=function(){var e=Zc.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var ru=Mt,nu=Me,ra=gt,iu=ze.Buffer,su=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],au=new Array(64);function Lt(){this.init(),this._w=au,ra.call(this,64,56)}nu(Lt,ra);Lt.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ou(e,t,r){return r^e&(t^r)}function cu(e,t,r){return e&t|r&(e|t)}function uu(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function lu(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function hu(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function du(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Lt.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,c=this._d|0,u=this._e|0,o=this._f|0,h=this._g|0,_=this._h|0,v=0;v<16;++v)t[v]=e.readInt32BE(v*4);for(;v<64;++v)t[v]=du(t[v-2])+t[v-7]+hu(t[v-15])+t[v-16]|0;for(var g=0;g<64;++g){var b=_+lu(u)+ou(u,o,h)+su[g]+t[g]|0,w=uu(r)+cu(r,n,i)|0;_=h,h=o,o=u,u=c+b|0,c=i,i=n,n=r,r=b+w|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=c+this._d|0,this._e=u+this._e|0,this._f=o+this._f|0,this._g=h+this._g|0,this._h=_+this._h|0};Lt.prototype._hash=function(){var e=iu.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var na=Lt,fu=Me,pu=na,_u=gt,gu=ze.Buffer,yu=new Array(64);function gr(){this.init(),this._w=yu,_u.call(this,64,56)}fu(gr,pu);gr.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};gr.prototype._hash=function(){var e=gu.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var bu=gr,vu=Me,ia=gt,wu=ze.Buffer,Ti=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],mu=new Array(160);function Tt(){this.init(),this._w=mu,ia.call(this,128,112)}vu(Tt,ia);Tt.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Bi(e,t,r){return r^e&(t^r)}function Ni(e,t,r){return e&t|r&(e|t)}function Pi(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Di(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Eu(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Su(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function xu(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Cu(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function se(e,t){return e>>>0<t>>>0?1:0}Tt.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,c=this._dh|0,u=this._eh|0,o=this._fh|0,h=this._gh|0,_=this._hh|0,v=this._al|0,g=this._bl|0,b=this._cl|0,w=this._dl|0,C=this._el|0,L=this._fl|0,k=this._gl|0,y=this._hl|0,x=0;x<32;x+=2)t[x]=e.readInt32BE(x*4),t[x+1]=e.readInt32BE(x*4+4);for(;x<160;x+=2){var I=t[x-30],M=t[x-15*2+1],N=Eu(I,M),F=Su(M,I);I=t[x-2*2],M=t[x-2*2+1];var K=xu(I,M),j=Cu(M,I),D=t[x-7*2],re=t[x-7*2+1],be=t[x-16*2],Ce=t[x-16*2+1],ee=F+re|0,ce=N+D+se(ee,F)|0;ee=ee+j|0,ce=ce+K+se(ee,j)|0,ee=ee+Ce|0,ce=ce+be+se(ee,Ce)|0,t[x]=ce,t[x+1]=ee}for(var ue=0;ue<160;ue+=2){ce=t[ue],ee=t[ue+1];var Le=Ni(r,n,i),_e=Ni(v,g,b),ke=Pi(r,v),ge=Pi(v,r),Ie=Di(u,C),G=Di(C,u),Q=Ti[ue],he=Ti[ue+1],Re=Bi(u,o,h),ve=Bi(C,L,k),S=y+G|0,E=_+Ie+se(S,y)|0;S=S+ve|0,E=E+Re+se(S,ve)|0,S=S+he|0,E=E+Q+se(S,he)|0,S=S+ee|0,E=E+ce+se(S,ee)|0;var T=ge+_e|0,U=ke+Le+se(T,ge)|0;_=h,y=k,h=o,k=L,o=u,L=C,C=w+S|0,u=c+E+se(C,w)|0,c=i,w=b,i=n,b=g,n=r,g=v,v=S+T|0,r=E+U+se(v,S)|0}this._al=this._al+v|0,this._bl=this._bl+g|0,this._cl=this._cl+b|0,this._dl=this._dl+w|0,this._el=this._el+C|0,this._fl=this._fl+L|0,this._gl=this._gl+k|0,this._hl=this._hl+y|0,this._ah=this._ah+r+se(this._al,v)|0,this._bh=this._bh+n+se(this._bl,g)|0,this._ch=this._ch+i+se(this._cl,b)|0,this._dh=this._dh+c+se(this._dl,w)|0,this._eh=this._eh+u+se(this._el,C)|0,this._fh=this._fh+o+se(this._fl,L)|0,this._gh=this._gh+h+se(this._gl,k)|0,this._hh=this._hh+_+se(this._hl,y)|0};Tt.prototype._hash=function(){var e=wu.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var sa=Tt,ku=Me,Iu=sa,Ru=gt,Au=ze.Buffer,Mu=new Array(160);function yr(){this.init(),this._w=Mu,Ru.call(this,128,112)}ku(yr,Iu);yr.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};yr.prototype._hash=function(){var e=Au.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Lu=yr,Xe=Qs.exports=function(t){t=t.toLowerCase();var r=Xe[t];if(!r)throw new Error(t+" is not supported (we accept pull requests)");return new r};Xe.sha=Vc;Xe.sha1=ru;Xe.sha224=bu;Xe.sha256=na;Xe.sha384=Lu;Xe.sha512=sa;var Tu=Qs.exports;Object.defineProperty(pr,"__esModule",{value:!0});pr.WalletLinkSession=void 0;const Bu=Tu,Oi=O,Ui="session:id",Fi="session:secret",ji="session:linked";class Xn{constructor(t,r,n,i){this._storage=t,this._id=r||(0,Oi.randomBytesHex)(16),this._secret=n||(0,Oi.randomBytesHex)(32),this._key=new Bu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){const r=t.getItem(Ui),n=t.getItem(ji),i=t.getItem(Fi);return r&&i?new Xn(t,r,i,n==="1"):null}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Ui,this._id),this._storage.setItem(Fi,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ji,this._linked?"1":"0")}}pr.WalletLinkSession=Xn;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.isDarkMode=ye.isMobileWeb=ye.getLocation=ye.createQrUrl=void 0;function Nu(e,t,r,n,i,c){const u=n?"parent-id":"id",o=new URLSearchParams({[u]:e,secret:t,server:r,v:i,chainId:c.toString()}).toString();return`${r}/#/link?${o}`}ye.createQrUrl=Nu;function Pu(){try{return window.frameElement!==null}catch{return!1}}function Du(){try{return Pu()&&window.top?window.top.location:window.location}catch{return window.location}}ye.getLocation=Du;function Ou(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window==null?void 0:window.navigator)===null||e===void 0?void 0:e.userAgent)}ye.isMobileWeb=Ou;function Uu(){var e,t;return(t=(e=window==null?void 0:window.matchMedia)===null||e===void 0?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)!==null&&t!==void 0?t:!1}ye.isDarkMode=Uu;var br={},Bt={},ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')();var Fu=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.injectCssReset=void 0;const ju=Fu(ei);function Wu(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(ju.default)),document.documentElement.appendChild(e)}Bt.injectCssReset=Wu;var ti={};function aa(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=aa(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Wi(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=aa(e))&&(n&&(n+=" "),n+=t);return n}const Hu=Object.freeze(Object.defineProperty({__proto__:null,clsx:Wi,default:Wi},Symbol.toStringTag,{value:"Module"})),oa=Vn(Hu);var Nt,X,ca,ua,Ge,Hi,la,jn,ri,Wn,Hn,ha,St={},da=[],$u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vr=Array.isArray;function He(e,t){for(var r in t)e[r]=t[r];return e}function fa(e){var t=e.parentNode;t&&t.removeChild(e)}function $n(e,t,r){var n,i,c,u={};for(c in t)c=="key"?n=t[c]:c=="ref"?i=t[c]:u[c]=t[c];if(arguments.length>2&&(u.children=arguments.length>3?Nt.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(c in e.defaultProps)u[c]===void 0&&(u[c]=e.defaultProps[c]);return vt(e,u,n,i,null)}function vt(e,t,r,n,i){var c={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++ca,__i:-1,__u:0};return i==null&&X.vnode!=null&&X.vnode(c),c}function qu(){return{current:null}}function Pt(e){return e.children}function wt(e,t){this.props=e,this.context=t}function Ze(e,t){if(t==null)return e.__?Ze(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Ze(e):null}function pa(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return pa(e)}}function qn(e){(!e.__d&&(e.__d=!0)&&Ge.push(e)&&!Yt.__r++||Hi!==X.debounceRendering)&&((Hi=X.debounceRendering)||la)(Yt)}function Yt(){var e,t,r,n,i,c,u,o;for(Ge.sort(jn);e=Ge.shift();)e.__d&&(t=Ge.length,n=void 0,c=(i=(r=e).__v).__e,u=[],o=[],r.__P&&((n=He({},i)).__v=i.__v+1,X.vnode&&X.vnode(n),ni(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[c]:null,u,c??Ze(i),!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,ba(u,n,o),n.__e!=c&&pa(n)),Ge.length>t&&Ge.sort(jn));Yt.__r=0}function _a(e,t,r,n,i,c,u,o,h,_,v){var g,b,w,C,L,k=n&&n.__k||da,y=t.length;for(r.__d=h,Ku(r,t,k),h=r.__d,g=0;g<y;g++)(w=r.__k[g])!=null&&typeof w!="boolean"&&typeof w!="function"&&(b=w.__i===-1?St:k[w.__i]||St,w.__i=g,ni(e,w,b,i,c,u,o,h,_,v),C=w.__e,w.ref&&b.ref!=w.ref&&(b.ref&&ii(b.ref,null,w),v.push(w.ref,w.__c||C,w)),L==null&&C!=null&&(L=C),65536&w.__u||b.__k===w.__k?(h&&!h.isConnected&&(h=Ze(b)),h=ga(w,h,e)):typeof w.type=="function"&&w.__d!==void 0?h=w.__d:C&&(h=C.nextSibling),w.__d=void 0,w.__u&=-196609);r.__d=h,r.__e=L}function Ku(e,t,r){var n,i,c,u,o,h=t.length,_=r.length,v=_,g=0;for(e.__k=[],n=0;n<h;n++)u=n+g,(i=e.__k[n]=(i=t[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?vt(null,i,null,null,null):vr(i)?vt(Pt,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?vt(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=e,i.__b=e.__b+1,o=zu(i,r,u,v),i.__i=o,c=null,o!==-1&&(v--,(c=r[o])&&(c.__u|=131072)),c==null||c.__v===null?(o==-1&&g--,typeof i.type!="function"&&(i.__u|=65536)):o!==u&&(o===u+1?g++:o>u?v>h-u?g+=o-u:g--:o<u?o==u-1&&(g=o-u):g=0,o!==n+g&&(i.__u|=65536))):(c=r[u])&&c.key==null&&c.__e&&!(131072&c.__u)&&(c.__e==e.__d&&(e.__d=Ze(c)),Kn(c,c,!1),r[u]=null,v--);if(v)for(n=0;n<_;n++)(c=r[n])!=null&&!(131072&c.__u)&&(c.__e==e.__d&&(e.__d=Ze(c)),Kn(c,c))}function ga(e,t,r){var n,i;if(typeof e.type=="function"){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=ga(n[i],t,r));return t}e.__e!=t&&(r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function ya(e,t){return t=t||[],e==null||typeof e=="boolean"||(vr(e)?e.some(function(r){ya(r,t)}):t.push(e)),t}function zu(e,t,r,n){var i=e.key,c=e.type,u=r-1,o=r+1,h=t[r];if(h===null||h&&i==h.key&&c===h.type&&!(131072&h.__u))return r;if(n>(h!=null&&!(131072&h.__u)?1:0))for(;u>=0||o<t.length;){if(u>=0){if((h=t[u])&&!(131072&h.__u)&&i==h.key&&c===h.type)return u;u--}if(o<t.length){if((h=t[o])&&!(131072&h.__u)&&i==h.key&&c===h.type)return o;o++}}return-1}function $i(e,t,r){t[0]==="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||$u.test(t)?r:r+"px"}function Wt(e,t,r,n,i){var c;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||$i(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||$i(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")c=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+c]=r,r?n?r.u=n.u:(r.u=ri,e.addEventListener(t,c?Hn:Wn,c)):e.removeEventListener(t,c?Hn:Wn,c);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,r))}}function qi(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=ri++;else if(t.t<r.u)return;return r(X.event?X.event(t):t)}}}function ni(e,t,r,n,i,c,u,o,h,_){var v,g,b,w,C,L,k,y,x,I,M,N,F,K,j,D=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(h=!!(32&r.__u),c=[o=t.__e=r.__e]),(v=X.__b)&&v(t);e:if(typeof D=="function")try{if(y=t.props,x=(v=D.contextType)&&n[v.__c],I=v?x?x.props.value:v.__:n,r.__c?k=(g=t.__c=r.__c).__=g.__E:("prototype"in D&&D.prototype.render?t.__c=g=new D(y,I):(t.__c=g=new wt(y,I),g.constructor=D,g.render=Gu),x&&x.sub(g),g.props=y,g.state||(g.state={}),g.context=I,g.__n=n,b=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),D.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=He({},g.__s)),He(g.__s,D.getDerivedStateFromProps(y,g.__s))),w=g.props,C=g.state,g.__v=t,b)D.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(D.getDerivedStateFromProps==null&&y!==w&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps(y,I),!g.__e&&(g.shouldComponentUpdate!=null&&g.shouldComponentUpdate(y,g.__s,I)===!1||t.__v===r.__v)){for(t.__v!==r.__v&&(g.props=y,g.state=g.__s,g.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(re){re&&(re.__=t)}),M=0;M<g._sb.length;M++)g.__h.push(g._sb[M]);g._sb=[],g.__h.length&&u.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate(y,g.__s,I),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(w,C,L)})}if(g.context=I,g.props=y,g.__P=e,g.__e=!1,N=X.__r,F=0,"prototype"in D&&D.prototype.render){for(g.state=g.__s,g.__d=!1,N&&N(t),v=g.render(g.props,g.state,g.context),K=0;K<g._sb.length;K++)g.__h.push(g._sb[K]);g._sb=[]}else do g.__d=!1,N&&N(t),v=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++F<25);g.state=g.__s,g.getChildContext!=null&&(n=He(He({},n),g.getChildContext())),b||g.getSnapshotBeforeUpdate==null||(L=g.getSnapshotBeforeUpdate(w,C)),_a(e,vr(j=v!=null&&v.type===Pt&&v.key==null?v.props.children:v)?j:[j],t,r,n,i,c,u,o,h,_),g.base=t.__e,t.__u&=-161,g.__h.length&&u.push(g),k&&(g.__E=g.__=null)}catch(re){t.__v=null,h||c!=null?(t.__e=o,t.__u|=h?160:32,c[c.indexOf(o)]=null):(t.__e=r.__e,t.__k=r.__k),X.__e(re,t,r)}else c==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=Vu(r.__e,t,r,n,i,c,u,h,_);(v=X.diffed)&&v(t)}function ba(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)ii(r[n],r[++n],r[++n]);X.__c&&X.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(c){c.call(i)})}catch(c){X.__e(c,i.__v)}})}function Vu(e,t,r,n,i,c,u,o,h){var _,v,g,b,w,C,L,k=r.props,y=t.props,x=t.type;if(x==="svg"?i="http://www.w3.org/2000/svg":x==="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),c!=null){for(_=0;_<c.length;_++)if((w=c[_])&&"setAttribute"in w==!!x&&(x?w.localName===x:w.nodeType===3)){e=w,c[_]=null;break}}if(e==null){if(x===null)return document.createTextNode(y);e=document.createElementNS(i,x,y.is&&y),c=null,o=!1}if(x===null)k===y||o&&e.data===y||(e.data=y);else{if(c=c&&Nt.call(e.childNodes),k=r.props||St,!o&&c!=null)for(k={},_=0;_<e.attributes.length;_++)k[(w=e.attributes[_]).name]=w.value;for(_ in k)if(w=k[_],_!="children"){if(_=="dangerouslySetInnerHTML")g=w;else if(_!=="key"&&!(_ in y)){if(_=="value"&&"defaultValue"in y||_=="checked"&&"defaultChecked"in y)continue;Wt(e,_,null,w,i)}}for(_ in y)w=y[_],_=="children"?b=w:_=="dangerouslySetInnerHTML"?v=w:_=="value"?C=w:_=="checked"?L=w:_==="key"||o&&typeof w!="function"||k[_]===w||Wt(e,_,w,k[_],i);if(v)o||g&&(v.__html===g.__html||v.__html===e.innerHTML)||(e.innerHTML=v.__html),t.__k=[];else if(g&&(e.innerHTML=""),_a(e,vr(b)?b:[b],t,r,n,x==="foreignObject"?"http://www.w3.org/1999/xhtml":i,c,u,c?c[0]:r.__k&&Ze(r,0),o,h),c!=null)for(_=c.length;_--;)c[_]!=null&&fa(c[_]);o||(_="value",C!==void 0&&(C!==e[_]||x==="progress"&&!C||x==="option"&&C!==k[_])&&Wt(e,_,C,k[_],i),_="checked",L!==void 0&&L!==e[_]&&Wt(e,_,L,k[_],i))}return e}function ii(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){X.__e(n,r)}}function Kn(e,t,r){var n,i;if(X.unmount&&X.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||ii(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(c){X.__e(c,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Kn(n[i],t,r||typeof e.type!="function");r||e.__e==null||fa(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Gu(e,t,r){return this.constructor(e,r)}function va(e,t,r){var n,i,c,u;X.__&&X.__(e,t),i=(n=typeof r=="function")?null:r&&r.__k||t.__k,c=[],u=[],ni(t,e=(!n&&r||t).__k=$n(Pt,null,[e]),i||St,St,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?Nt.call(t.childNodes):null,c,!n&&r?r:i?i.__e:t.firstChild,n,u),ba(c,e,u)}function wa(e,t){va(e,t,wa)}function Zu(e,t,r){var n,i,c,u,o=He({},e.props);for(c in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)c=="key"?n=t[c]:c=="ref"?i=t[c]:o[c]=t[c]===void 0&&u!==void 0?u[c]:t[c];return arguments.length>2&&(o.children=arguments.length>3?Nt.call(arguments,2):r),vt(e.type,o,n||e.key,i||e.ref,null)}function Yu(e,t){var r={__c:t="__cC"+ha++,__:e,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,c;return this.getChildContext||(i=[],(c={})[t]=this,this.getChildContext=function(){return c},this.shouldComponentUpdate=function(u){this.props.value!==u.value&&i.some(function(o){o.__e=!0,qn(o)})},this.sub=function(u){i.push(u);var o=u.componentWillUnmount;u.componentWillUnmount=function(){i.splice(i.indexOf(u),1),o&&o.call(u)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Nt=da.slice,X={__e:function(e,t,r,n){for(var i,c,u;t=t.__;)if((i=t.__c)&&!i.__)try{if((c=i.constructor)&&c.getDerivedStateFromError!=null&&(i.setState(c.getDerivedStateFromError(e)),u=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),u=i.__d),u)return i.__E=i}catch(o){e=o}throw e}},ca=0,ua=function(e){return e!=null&&e.constructor==null},wt.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=He({},this.state),typeof e=="function"&&(e=e(He({},r),this.props)),e&&He(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),qn(this))},wt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),qn(this))},wt.prototype.render=Pt,Ge=[],la=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,jn=function(e,t){return e.__v.__b-t.__v.__b},Yt.__r=0,ri=0,Wn=qi(!1),Hn=qi(!0),ha=0;const Ju=Object.freeze(Object.defineProperty({__proto__:null,Component:wt,Fragment:Pt,cloneElement:Zu,createContext:Yu,createElement:$n,createRef:qu,h:$n,hydrate:wa,get isValidElement(){return ua},get options(){return X},render:va,toChildArray:ya},Symbol.toStringTag,{value:"Module"})),ma=Vn(Ju);var Ke,Y,Tn,Ki,dt=0,Ea=[],Kt=[],te=X,zi=te.__b,Vi=te.__r,Gi=te.diffed,Zi=te.__c,Yi=te.unmount,Ji=te.__;function et(e,t){te.__h&&te.__h(Y,e,dt||t),dt=0;var r=Y.__H||(Y.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:Kt}),r.__[e]}function Sa(e){return dt=1,xa(ka,e)}function xa(e,t,r){var n=et(Ke++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):ka(void 0,t),function(o){var h=n.__N?n.__N[0]:n.__[0],_=n.t(h,o);h!==_&&(n.__N=[_,n.__[1]],n.__c.setState({}))}],n.__c=Y,!Y.u)){var i=function(o,h,_){if(!n.__c.__H)return!0;var v=n.__c.__H.__.filter(function(b){return!!b.__c});if(v.every(function(b){return!b.__N}))return!c||c.call(this,o,h,_);var g=!1;return v.forEach(function(b){if(b.__N){var w=b.__[0];b.__=b.__N,b.__N=void 0,w!==b.__[0]&&(g=!0)}}),!(!g&&n.__c.props===o)&&(!c||c.call(this,o,h,_))};Y.u=!0;var c=Y.shouldComponentUpdate,u=Y.componentWillUpdate;Y.componentWillUpdate=function(o,h,_){if(this.__e){var v=c;c=void 0,i(o,h,_),c=v}u&&u.call(this,o,h,_)},Y.shouldComponentUpdate=i}return n.__N||n.__}function Qu(e,t){var r=et(Ke++,3);!te.__s&&ai(r.__H,t)&&(r.__=e,r.i=t,Y.__H.__h.push(r))}function Ca(e,t){var r=et(Ke++,4);!te.__s&&ai(r.__H,t)&&(r.__=e,r.i=t,Y.__h.push(r))}function Xu(e){return dt=5,si(function(){return{current:e}},[])}function el(e,t,r){dt=6,Ca(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},r==null?r:r.concat(e))}function si(e,t){var r=et(Ke++,7);return ai(r.__H,t)?(r.__V=e(),r.i=t,r.__h=e,r.__V):r.__}function tl(e,t){return dt=8,si(function(){return e},t)}function rl(e){var t=Y.context[e.__c],r=et(Ke++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(Y)),t.props.value):e.__}function nl(e,t){te.useDebugValue&&te.useDebugValue(t?t(e):e)}function il(e){var t=et(Ke++,10),r=Sa();return t.__=e,Y.componentDidCatch||(Y.componentDidCatch=function(n,i){t.__&&t.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function sl(){var e=et(Ke++,11);if(!e.__){for(var t=Y.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function al(){for(var e;e=Ea.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(zt),e.__H.__h.forEach(zn),e.__H.__h=[]}catch(t){e.__H.__h=[],te.__e(t,e.__v)}}te.__b=function(e){Y=null,zi&&zi(e)},te.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ji&&Ji(e,t)},te.__r=function(e){Vi&&Vi(e),Ke=0;var t=(Y=e.__c).__H;t&&(Tn===Y?(t.__h=[],Y.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Kt,r.__N=r.i=void 0})):(t.__h.forEach(zt),t.__h.forEach(zn),t.__h=[],Ke=0)),Tn=Y},te.diffed=function(e){Gi&&Gi(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ea.push(t)!==1&&Ki===te.requestAnimationFrame||((Ki=te.requestAnimationFrame)||ol)(al)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Kt&&(r.__=r.__V),r.i=void 0,r.__V=Kt})),Tn=Y=null},te.__c=function(e,t){t.some(function(r){try{r.__h.forEach(zt),r.__h=r.__h.filter(function(n){return!n.__||zn(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],te.__e(n,r.__v)}}),Zi&&Zi(e,t)},te.unmount=function(e){Yi&&Yi(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{zt(n)}catch(i){t=i}}),r.__H=void 0,t&&te.__e(t,r.__v))};var Qi=typeof requestAnimationFrame=="function";function ol(e){var t,r=function(){clearTimeout(n),Qi&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);Qi&&(t=requestAnimationFrame(r))}function zt(e){var t=Y,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Y=t}function zn(e){var t=Y;e.__c=e.__(),Y=t}function ai(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function ka(e,t){return typeof t=="function"?t(e):t}const cl=Object.freeze(Object.defineProperty({__proto__:null,useCallback:tl,useContext:rl,useDebugValue:nl,useEffect:Qu,useErrorBoundary:il,useId:sl,useImperativeHandle:el,useLayoutEffect:Ca,useMemo:si,useReducer:xa,useRef:Xu,useState:Sa},Symbol.toStringTag,{value:"Module"})),ul=Vn(cl);var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")();(function(e){var t=oe&&oe.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(oa),n=ma,i=ul,c=ye,u=t(oi),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",h="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class _{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=(0,c.isDarkMode)()}attach(w){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",w.appendChild(this.root),this.render()}presentItem(w){const C=this.nextItemKey++;return this.items.set(C,w),this.render(),()=>{this.items.delete(C),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([w,C])=>(0,n.h)(e.SnackbarInstance,Object.assign({},C,{key:w}))))),this.root)}}e.Snackbar=_;const v=b=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,u.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},b.children));e.SnackbarContainer=v;const g=({autoExpand:b,message:w,menuItems:C})=>{const[L,k]=(0,i.useState)(!0),[y,x]=(0,i.useState)(b??!1);(0,i.useEffect)(()=>{const M=[window.setTimeout(()=>{k(!1)},1),window.setTimeout(()=>{x(!0)},1e4)];return()=>{M.forEach(window.clearTimeout)}});const I=()=>{x(!y)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",L&&"-cbwsdk-snackbar-instance-hidden",y&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:I},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},w),(0,n.h)("div",{class:"-gear-container"},!y&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:h,class:"-gear-icon",title:"Expand"}))),C&&C.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},C.map((M,N)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:M.onClick,key:N},(0,n.h)("svg",{width:M.svgWidth,height:M.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":M.defaultFillRule,"clip-rule":M.defaultClipRule,d:M.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",M.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},M.info)))))};e.SnackbarInstance=g})(ti);Object.defineProperty(br,"__esModule",{value:!0});br.WalletLinkRelayUI=void 0;const ll=Bt,hl=ti;class dl{constructor(){this.attached=!1,this.snackbar=new hl.Snackbar}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.snackbar.attach(r),this.attached=!0,(0,ll.injectCssReset)()}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}}br.WalletLinkRelayUI=dl;var wr={},mr={},ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")();var Ia=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});mr.RedirectDialog=void 0;const fl=Ia(oa),Be=ma,pl=Bt,_l=ti,gl=ye,yl=Ia(ci);class bl{constructor(){this.root=null,this.darkMode=(0,gl.isDarkMode)()}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,pl.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,Be.render)(null,this.root),t&&(0,Be.render)((0,Be.h)(vl,Object.assign({},t,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}mr.RedirectDialog=bl;const vl=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>{const c=r?"dark":"light";return(0,Be.h)(_l.SnackbarContainer,{darkMode:r},(0,Be.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Be.h)("style",null,yl.default),(0,Be.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,Be.h)("div",{class:(0,fl.default)("-cbwsdk-redirect-dialog-box",c)},(0,Be.h)("p",null,e),(0,Be.h)("button",{onClick:n},t))))};var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.CBW_MOBILE_DEEPLINK_URL=Oe.WALLETLINK_URL=Oe.CB_KEYS_URL=void 0;Oe.CB_KEYS_URL="https://keys.coinbase.com/connect";Oe.WALLETLINK_URL="https://www.walletlink.org";Oe.CBW_MOBILE_DEEPLINK_URL="https://go.cb-w.com/walletlink";Object.defineProperty(wr,"__esModule",{value:!0});wr.WLMobileRelayUI=void 0;const wl=mr,ml=ye,El=Oe;class Sl{constructor(){this.attached=!1,this.redirectDialog=new wl.RedirectDialog}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(t){const r=new URL(El.CBW_MOBILE_DEEPLINK_URL);r.searchParams.append("redirect_url",(0,ml.getLocation)().href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}}wr.WLMobileRelayUI=Sl;Object.defineProperty(lr,"__esModule",{value:!0});lr.WalletLinkRelay=void 0;const xl=hr,Cl=De,kl=Rt,Bn=pr,at=pt,Il=ye,Rl=br,Xi=wr,Al=Ue,ne=O,Ml=Fe;class We{constructor(t){this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.isMobileWeb=(0,Il.isMobileWeb)(),this.appName="",this.appLogoUrl=null,this.linkedUpdated=c=>{this.isLinked=c;const u=this.storage.getItem(Cl.LOCAL_STORAGE_ADDRESSES_KEY);if(c&&(this._session.linked=c),this.isUnlinkedErrorState=!1,u){const o=u.split(" "),h=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!c&&this._session.linked&&!h&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(c,u)=>{this.storage.setItem(c,u)},this.chainUpdated=(c,u)=>{this.chainCallbackParams.chainId===c&&this.chainCallbackParams.jsonRpcUrl===u||(this.chainCallbackParams={chainId:c,jsonRpcUrl:u},this.chainCallback&&this.chainCallback(c,u))},this.accountUpdated=c=>{this.accountsCallback&&this.accountsCallback([c]),We.accountRequestCallbackIds.size>0&&(Array.from(We.accountRequestCallbackIds.values()).forEach(u=>{const o={type:"WEB3_RESPONSE",id:u,response:{method:"requestEthereumAccounts",result:[c]}};this.invokeCallback(Object.assign(Object.assign({},o),{id:u}))}),We.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new kl.RelayEventManager,this.ui=n}subscribe(){const t=Bn.WalletLinkSession.load(this.storage)||new Bn.WalletLinkSession(this.storage).save(),{linkAPIUrl:r}=this,n=new xl.WalletLinkConnection({session:t,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new Xi.WLMobileRelayUI:new Rl.WalletLinkRelayUI;return n.connect(),{session:t,ui:i,connection:n}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{this.connection.destroy();const t=Bn.WalletLinkSession.load(this.storage);(t==null?void 0:t.id)===this._session.id&&Ml.ScopedLocalStorage.clearAll(),document.location.reload()}).catch(t=>{})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,ne.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,ne.hexStringFromBuffer)(t,!0),signature:(0,ne.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,ne.bigIntStringFromBigInt)(t.weiValue),data:(0,ne.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,ne.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,ne.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,ne.bigIntStringFromBigInt)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,ne.bigIntStringFromBigInt)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,ne.bigIntStringFromBigInt)(t.weiValue),data:(0,ne.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,ne.bigIntStringFromBigInt)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,ne.bigIntStringFromBigInt)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,ne.bigIntStringFromBigInt)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,ne.bigIntStringFromBigInt)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,ne.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getWalletLinkSession(){return this._session}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,ne.randomBytesHex)(8),i=c=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,c),r==null||r()};return new Promise((c,u)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,o=>{if(r==null||r(),(0,at.isErrorResponse)(o))return u(new Error(o.errorMessage));c(o)}),this.publishWeb3RequestEvent(n,t)})}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t}publishWeb3RequestEvent(t,r){const n={type:"WEB3_REQUEST",id:t,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n.id,response:{method:r.method,errorMessage:i.message}})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(t){if(this.ui instanceof Xi.WLMobileRelayUI)switch(t){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){const{response:r}=t;if(r.method==="requestEthereumAccounts"){We.accountRequestCallbackIds.forEach(n=>this.invokeCallback(Object.assign(Object.assign({},t),{id:n}))),We.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n){var i;const c=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:c}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,ne.randomBytesHex)(8);return new Promise((n,i)=>{this.relayEventManager.callbacks.set(r,c=>{if((0,at.isErrorResponse)(c))return i(new Error(c.errorMessage));n(c)}),We.accountRequestCallbackIds.add(r),this.publishWeb3RequestEvent(r,t)})}watchAsset(t,r,n,i,c,u){const o={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:i,image:c},chainId:u}};let h=null;const _=(0,ne.randomBytesHex)(8),v=g=>{this.publishWeb3RequestCanceledEvent(_),this.handleErrorResponse(_,o.method,g),h==null||h()};return h=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:v,onResetConnection:this.resetAndReload}),new Promise((g,b)=>{this.relayEventManager.callbacks.set(_,w=>{if(h==null||h(),(0,at.isErrorResponse)(w))return b(new Error(w.errorMessage));g(w)}),this.publishWeb3RequestEvent(_,o)})}addEthereumChain(t,r,n,i,c,u){const o={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:i,chainName:c,iconUrls:n,nativeCurrency:u}};let h=null;const _=(0,ne.randomBytesHex)(8),v=g=>{this.publishWeb3RequestCanceledEvent(_),this.handleErrorResponse(_,o.method,g),h==null||h()};return h=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:v,onResetConnection:this.resetAndReload}),new Promise((g,b)=>{this.relayEventManager.callbacks.set(_,w=>{if(h==null||h(),(0,at.isErrorResponse)(w))return b(new Error(w.errorMessage));g(w)}),this.publishWeb3RequestEvent(_,o)})}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},i=(0,ne.randomBytesHex)(8);return new Promise((c,u)=>{this.relayEventManager.callbacks.set(i,o=>{if((0,at.isErrorResponse)(o)&&o.errorCode)return u(Al.standardErrors.provider.custom({code:o.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,at.isErrorResponse)(o))return u(new Error(o.errorMessage));c(o)}),this.publishWeb3RequestEvent(i,n)})}}lr.WalletLinkRelay=We;We.accountRequestCallbackIds=new Set;var Ll=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sr,"__esModule",{value:!0});sr.WalletLinkSigner=void 0;const Nn=Ll(Ac),es=De,Tl=Rt,je=pt,Bl=lr,ts=Oe,ae=Ue,q=O,Nl=Fe,Pn="DefaultChainId",rs="DefaultJsonRpcUrl";class Pl{constructor(t){var r,n;this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1;const{appName:i,appLogoUrl:c}=t.metadata;this._appName=i,this._appLogoUrl=c,this._storage=new Nl.ScopedLocalStorage("walletlink",ts.WALLETLINK_URL),this.updateListener=t.updateListener,this._relayEventManager=new Tl.RelayEventManager,this._jsonRpcUrlFromOpts="";const u=this._storage.getItem(es.LOCAL_STORAGE_ADDRESSES_KEY);if(u){const h=u.split(" ");h[0]!==""&&(this._addresses=h.map(_=>(0,q.ensureAddressString)(_)),(r=this.updateListener)===null||r===void 0||r.onAccountsUpdate({accounts:this._addresses,source:"storage"}))}this._storage.getItem(Pn)&&((n=this.updateListener)===null||n===void 0||n.onChainUpdate({chain:{id:this.getChainId(),rpcUrl:this.jsonRpcUrl},source:"storage"}),this.hasMadeFirstChainChangedEmission=!0),this.initializeRelay()}getSession(){const t=this.initializeRelay(),{id:r,secret:n}=t.getWalletLinkSession();return{id:r,secret:n}}async handshake(){return await this.request({method:"eth_requestAccounts"})}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(rs))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(rs,t)}updateProviderInfo(t,r){var n;this.jsonRpcUrl=t;const i=this.getChainId();this._storage.setItem(Pn,r.toString(10)),((0,q.ensureIntNumber)(r)!==i||!this.hasMadeFirstChainChangedEmission)&&((n=this.updateListener)===null||n===void 0||n.onChainUpdate({chain:{id:r,rpcUrl:t},source:"wallet"}),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,i,c,u){const h=await this.initializeRelay().watchAsset(t,r,n,i,c,u==null?void 0:u.toString());return(0,je.isErrorResponse)(h)?!1:!!h.result}async addEthereumChain(t,r,n,i,c,u){var o,h;if((0,q.ensureIntNumber)(t)===this.getChainId())return!1;const _=this.initializeRelay();this._isAuthorized()||await _.requestEthereumAccounts();const v=await _.addEthereumChain(t.toString(),r,c,n,i,u);return(0,je.isErrorResponse)(v)?!1:(((o=v.result)===null||o===void 0?void 0:o.isApproved)===!0&&this.updateProviderInfo(r[0],t),((h=v.result)===null||h===void 0?void 0:h.isApproved)===!0)}async switchEthereumChain(t){const n=await this.initializeRelay().switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if((0,je.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===ae.standardErrorCodes.provider.unsupportedChain?ae.standardErrors.provider.unsupportedChain():ae.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t)}async disconnect(){this._relay&&this._relay.resetAndReload(),this._storage.clear()}async request(t){try{return this._request(t).catch(r=>{throw r})}catch(r){return Promise.reject(r)}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw ae.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw ae.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ae.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const i=n===void 0?[]:n,c=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:c})).result}_setAddresses(t,r){var n;if(!Array.isArray(t))throw new Error("addresses is not an array");const i=t.map(c=>(0,q.ensureAddressString)(c));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.updateListener)===null||n===void 0||n.onAccountsUpdate({accounts:i,source:"wallet"}),this._storage.setItem(es.LOCAL_STORAGE_ADDRESSES_KEY,i.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return r({jsonrpc:"2.0",id:t.id,result:i})}catch(i){return n(i)}this._handleAsynchronousMethods(t).then(i=>i&&r(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>n(i))})}_handleSynchronousMethods(t){const{method:r}=t;switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n);default:return this._throwUnsupportedMethodError()}}_isKnownAddress(t){try{const r=(0,q.ensureAddressString)(t);return this._addresses.map(i=>(0,q.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(t){if(!this._isKnownAddress(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,q.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,q.ensureAddressString)(t.to):null,i=t.value!=null?(0,q.ensureBigInt)(t.value):BigInt(0),c=t.data?(0,q.ensureBuffer)(t.data):Buffer.alloc(0),u=t.nonce!=null?(0,q.ensureIntNumber)(t.nonce):null,o=t.gasPrice!=null?(0,q.ensureBigInt)(t.gasPrice):null,h=t.maxFeePerGas!=null?(0,q.ensureBigInt)(t.maxFeePerGas):null,_=t.maxPriorityFeePerGas!=null?(0,q.ensureBigInt)(t.maxPriorityFeePerGas):null,v=t.gas!=null?(0,q.ensureBigInt)(t.gas):null,g=t.chainId?(0,q.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:c,nonce:u,gasPriceInWei:o,maxFeePerGas:h,maxPriorityFeePerGas:_,gasLimit:v,chainId:g}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ae.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ae.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,i){this._ensureKnownAddress(r);try{const u=await this.initializeRelay().signEthereumMessage(t,r,n,i);if((0,je.isErrorResponse)(u))throw new Error(u.errorMessage);return{jsonrpc:"2.0",id:0,result:u.result}}catch(c){throw typeof c.message=="string"&&c.message.match(/(denied|rejected)/i)?ae.standardErrors.provider.userRejectedRequest("User denied message signature"):c}}async _ethereumAddressFromSignedMessage(t,r,n){const c=await this.initializeRelay().ethereumAddressFromSignedMessage(t,r,n);if((0,je.isErrorResponse)(c))throw new Error(c.errorMessage);return{jsonrpc:"2.0",id:0,result:c.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,q.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(Pn);if(!t)return(0,q.ensureIntNumber)(1);const r=parseInt(t,10);return(0,q.ensureIntNumber)(r)}async _eth_requestAccounts(){if(this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let t;try{if(t=await this.initializeRelay().requestEthereumAccounts(),(0,je.isErrorResponse)(t))throw new Error(t.errorMessage)}catch(r){throw typeof r.message=="string"&&r.message.match(/(denied|rejected)/i)?ae.standardErrors.provider.userRejectedRequest("User denied account authorization"):r}if(!t.result)throw new Error("accounts received is empty");return this._setAddresses(t.result),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,q.ensureAddressString)(t[0]),n=(0,q.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,q.ensureBuffer)(t[0]),n=(0,q.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,q.ensureBuffer)(t[0]),n=(0,q.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,q.ensureBuffer)(t[0]),n=(0,q.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const i=await this.initializeRelay().signEthereumTransaction(r);if((0,je.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ae.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,q.ensureBuffer)(t[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if((0,je.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if((0,je.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ae.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,q.ensureParsedJSONObject)(t[0]),n=(0,q.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const i=Nn.default.hashForSignTypedDataLegacy({data:r}),c=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,c)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,q.ensureAddressString)(t[0]),n=(0,q.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=Nn.default.hashForSignTypedData_v3({data:n}),c=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,c)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,q.ensureAddressString)(t[0]),n=(0,q.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=Nn.default.hashForSignTypedData_v4({data:n}),c=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,c)}async _wallet_addEthereumChain(t){var r,n,i,c;const u=t[0];if(((r=u.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!u.chainName||u.chainName.trim()==="")throw ae.standardErrors.rpc.invalidParams("chainName is a required field");if(!u.nativeCurrency)throw ae.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const o=parseInt(u.chainId,16);return await this.addEthereumChain(o,(n=u.rpcUrls)!==null&&n!==void 0?n:[],(i=u.blockExplorerUrls)!==null&&i!==void 0?i:[],u.chainName,(c=u.iconUrls)!==null&&c!==void 0?c:[],u.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw ae.standardErrors.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw ae.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw ae.standardErrors.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw ae.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:c,image:u,decimals:o}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,c,o,u,n)}}initializeRelay(){if(!this._relay){const t=new Bl.WalletLinkRelay({linkAPIUrl:ts.WALLETLINK_URL,storage:this._storage});t.setAppInfo(this._appName,this._appLogoUrl),t.attachUI(),t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),this._relay=t}return this._relay}}sr.WalletLinkSigner=Pl;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.checkErrorForInvalidRequestArgs=Ee.getCoinbaseInjectedProvider=Ee.getCoinbaseInjectedSigner=Ee.fetchRPCRequest=void 0;const Dl=Ye,Vt=Ue;async function Ol(e,t){if(!t.rpcUrl)throw Vt.standardErrors.rpc.internal("No RPC URL set for chain");const r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()});return(await(await window.fetch(t.rpcUrl,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Dl.LIB_VERSION}})).json()).result}Ee.fetchRPCRequest=Ol;function Ra(){return globalThis.coinbaseWalletSigner}Ee.getCoinbaseInjectedSigner=Ra;function Ul({metadata:e,preference:t}){var r,n,i;const c=globalThis;if(t.options!=="smartWalletOnly"){if(Ra())return;const h=c.coinbaseWalletExtension;if(h){const{appName:_,appLogoUrl:v,appChainIds:g}=e;return(r=h.setAppInfo)===null||r===void 0||r.call(h,_,v,g),h}}const u=(n=c.ethereum)!==null&&n!==void 0?n:(i=c.top)===null||i===void 0?void 0:i.ethereum;if(u!=null&&u.isCoinbaseBrowser)return u}Ee.getCoinbaseInjectedProvider=Ul;function Fl(e){if(!e||typeof e!="object"||Array.isArray(e))return Vt.standardErrors.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});const{method:t,params:r}=e;if(typeof t!="string"||t.length===0)return Vt.standardErrors.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))return Vt.standardErrors.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e})}Ee.checkErrorForInvalidRequestArgs=Fl;Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createSigner=Pe.fetchSignerType=Pe.storeSignerType=Pe.loadSignerType=void 0;const jl=rr,Aa=sr,Wl=Ue,Hl=Ee,$l=Fe,Ma="SignerType",La=new $l.ScopedLocalStorage("CBWSDK","SignerConfigurator");function ql(){return La.getItem(Ma)}Pe.loadSignerType=ql;function Kl(e){La.setItem(Ma,e)}Pe.storeSignerType=Kl;async function zl(e){const{communicator:t,metadata:r}=e;Gl(t,r).catch(()=>{});const n={id:crypto.randomUUID(),event:"selectSignerType",data:e.preference},{data:i}=await t.postRequestAndWaitForResponse(n);return i}Pe.fetchSignerType=zl;function Vl(e){const{signerType:t,metadata:r,communicator:n,updateListener:i}=e;switch(t){case"scw":return new jl.SCWSigner({metadata:r,updateListener:i,communicator:n});case"walletlink":return new Aa.WalletLinkSigner({metadata:r,updateListener:i});case"extension":{const c=(0,Hl.getCoinbaseInjectedSigner)();if(!c)throw Wl.standardErrors.rpc.internal("injected signer not found");return c}}}Pe.createSigner=Vl;async function Gl(e,t){await e.onMessage(({event:n})=>n==="WalletLinkSessionRequest");const r=new Aa.WalletLinkSigner({metadata:t});e.postMessage({event:"WalletLinkUpdate",data:{session:r.getSession()}}),await r.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var Er={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.closePopup=ft.openPopup=void 0;const Zl=Ue,ns=420,is=540;function Yl(e){const t=(window.innerWidth-ns)/2+window.screenX,r=(window.innerHeight-is)/2+window.screenY,n=window.open(e,"Smart Wallet",`width=${ns}, height=${is}, left=${t}, top=${r}`);if(n==null||n.focus(),!n)throw Zl.standardErrors.rpc.internal("Pop up window failed to open");return n}ft.openPopup=Yl;function Jl(e){e&&!e.closed&&e.close()}ft.closePopup=Jl;Object.defineProperty(Er,"__esModule",{value:!0});Er.Communicator=void 0;const Ql=Ye,ss=ft,Xl=Oe,as=Ue;class eh{constructor(t=Xl.CB_KEYS_URL){this.popup=null,this.listeners=new Map,this.postMessage=async r=>{(await this.waitForPopupLoaded()).postMessage(r,this.url.origin)},this.postRequestAndWaitForResponse=async r=>{const n=this.onMessage(({requestId:i})=>i===r.id);return this.postMessage(r),await n},this.onMessage=async r=>new Promise((n,i)=>{const c=u=>{if(u.origin!==this.url.origin)return;const o=u.data;r(o)&&(n(o),window.removeEventListener("message",c),this.listeners.delete(c))};window.addEventListener("message",c),this.listeners.set(c,{reject:i})}),this.disconnect=()=>{(0,ss.closePopup)(this.popup),this.popup=null,this.listeners.forEach(({reject:r},n)=>{r(as.standardErrors.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",n)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?this.popup:(this.popup=(0,ss.openPopup)(this.url),this.onMessage(({event:r})=>r==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:r})=>r==="PopupLoaded").then(r=>{this.postMessage({requestId:r.id,data:{version:Ql.LIB_VERSION}})}).then(()=>{if(!this.popup)throw as.standardErrors.rpc.internal();return this.popup})),this.url=new URL(t)}}Er.Communicator=eh;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.determineMethodCategory=void 0;const os={handshake:["eth_requestAccounts"],sign:["eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","wallet_getCapabilities","wallet_sendCalls","wallet_showCallsStatus"],state:["eth_chainId","eth_accounts","eth_coinbase","net_version"],deprecated:["eth_sign","eth_signTypedData_v2"],unsupported:["eth_subscribe","eth_unsubscribe"],fetch:[]};function th(e){for(const t in os){const r=t;if(os[r].includes(e))return r}}Sr.determineMethodCategory=th;var rh=oe&&oe.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},nh=oe&&oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.CoinbaseWalletProvider=void 0;const ih=nh(Pa),ot=Ue,sh=er,Ht=de,yt=O,$t=Pe,cs=Ee,ah=Er,oh=Sr,ch=Fe;class uh extends ih.default{constructor(t){var r,n,{metadata:i}=t,c=t.preference,{keysUrl:u}=c,o=rh(c,["keysUrl"]);super(),this.accounts=[],this.handlers={handshake:async _=>{try{if(this.connected)return this.emit("connect",{chainId:(0,yt.hexStringFromIntNumber)((0,Ht.IntNumber)(this.chain.id))}),this.accounts;const v=await this.requestSignerSelection(),g=this.initSigner(v),b=await g.handshake();return this.signer=g,(0,$t.storeSignerType)(v),this.emit("connect",{chainId:(0,yt.hexStringFromIntNumber)((0,Ht.IntNumber)(this.chain.id))}),b}catch(v){throw this.handleUnauthorizedError(v),v}},sign:async _=>{if(!this.connected||!this.signer)throw ot.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods");try{return await this.signer.request(_)}catch(v){throw this.handleUnauthorizedError(v),v}},fetch:_=>(0,cs.fetchRPCRequest)(_,this.chain),state:_=>{const v=()=>{if(this.connected)return this.accounts;throw ot.standardErrors.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")};switch(_.method){case"eth_chainId":return(0,yt.hexStringFromIntNumber)((0,Ht.IntNumber)(this.chain.id));case"net_version":return this.chain.id;case"eth_accounts":return v();case"eth_coinbase":return v()[0];default:return this.handlers.unsupported(_)}},deprecated:({method:_})=>{throw ot.standardErrors.rpc.methodNotSupported(`Method ${_} is deprecated.`)},unsupported:({method:_})=>{throw ot.standardErrors.rpc.methodNotSupported(`Method ${_} is not supported.`)}},this.isCoinbaseWallet=!0,this.updateListener={onAccountsUpdate:({accounts:_,source:v})=>{(0,yt.areAddressArraysEqual)(this.accounts,_)||(this.accounts=_,v!=="storage"&&this.emit("accountsChanged",this.accounts))},onChainUpdate:({chain:_,source:v})=>{_.id===this.chain.id&&_.rpcUrl===this.chain.rpcUrl||(this.chain=_,v!=="storage"&&this.emit("chainChanged",(0,yt.hexStringFromIntNumber)((0,Ht.IntNumber)(_.id))))}},this.metadata=i,this.preference=o,this.communicator=new ah.Communicator(u),this.chain={id:(n=(r=i.appChainIds)===null||r===void 0?void 0:r[0])!==null&&n!==void 0?n:1};const h=(0,$t.loadSignerType)();this.signer=h?this.initSigner(h):null}get connected(){return this.accounts.length>0}async request(t){var r;try{const n=(0,cs.checkErrorForInvalidRequestArgs)(t);if(n)throw n;const i=(r=(0,oh.determineMethodCategory)(t.method))!==null&&r!==void 0?r:"fetch";return this.handlers[i](t)}catch(n){return Promise.reject((0,sh.serializeError)(n,t.method))}}handleUnauthorizedError(t){t.code===ot.standardErrorCodes.provider.unauthorized&&this.disconnect()}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){this.accounts=[],this.chain={id:1},ch.ScopedLocalStorage.clearAll(),this.emit("disconnect",ot.standardErrors.provider.disconnected("User initiated disconnection"))}requestSignerSelection(){return(0,$t.fetchSignerType)({communicator:this.communicator,preference:this.preference,metadata:this.metadata})}initSigner(t){return(0,$t.createSigner)({signerType:t,metadata:this.metadata,communicator:this.communicator,updateListener:this.updateListener})}}Qt.CoinbaseWalletProvider=uh;Object.defineProperty(mt,"__esModule",{value:!0});mt.CoinbaseWalletSDK=void 0;const lh=Jt,hh=Qt,dh=Fe,fh=Ye,ph=O,_h=Ee;class gh{constructor(t){this.metadata={appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||(0,ph.getFavicon)(),appChainIds:t.appChainIds||[]},this.storeLatestVersion()}makeWeb3Provider(t={options:"all"}){var r;const n={metadata:this.metadata,preference:t};return(r=(0,_h.getCoinbaseInjectedProvider)(n))!==null&&r!==void 0?r:new hh.CoinbaseWalletProvider(n)}getCoinbaseWalletLogo(t,r=240){return(0,lh.walletLogo)(t,r)}storeLatestVersion(){new dh.ScopedLocalStorage("CBWSDK").setItem("VERSION",fh.LIB_VERSION)}}mt.CoinbaseWalletSDK=gh;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletSDK=void 0;const t=mt;e.default=t.CoinbaseWalletSDK;var r=mt;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return r.CoinbaseWalletSDK}})})(Gn);const yh=Ta(Gn),wh=Ba({__proto__:null,default:yh},[Gn]);export{wh as i};
